{"version":3,"sources":["webpack:///./src/pages/class/onClass.vue","webpack:///./src/components/buttons/basicButtons.vue?c82b","webpack:///./src/components/buttons/basicButtons.vue","webpack:///./src/components/buttons/basicButtons.vue?4270","webpack:///./src/components/buttons/basicButtons.vue?0aff","webpack:///basicButtons.vue","webpack:///./static/icons/live/closeBtn.png","webpack:///./static/icons/add_circle.png","webpack:///./static/icons/live/s1.png","webpack:///./static/icons/live/s2.png","webpack:///./static/icons/live/s3.png","webpack:///./static/icons/live/s4.png","webpack:///./static/icons/live/s5.png","webpack:///./static/icons/live/s6.png","webpack:///./static/icons/live/addNew.png","webpack:///./static/icons/live/black.png","webpack:///./static/icons/live/black_picked.png","webpack:///./static/icons/live/blue.png","webpack:///./static/icons/live/blue_picked.png","webpack:///./static/icons/live/clear.png","webpack:///./static/icons/live/color.png","webpack:///./static/icons/live/delete.png","webpack:///./static/icons/live/left.png","webpack:///./static/icons/live/left_l.png","webpack:///./static/icons/live/lg.png","webpack:///./static/icons/live/lg_picked.png","webpack:///./static/icons/live/line.png","webpack:///./static/icons/live/mid.png","webpack:///./static/icons/live/mid_picked.png","webpack:///./static/icons/live/offClass.png","webpack:///./static/icons/live/red.png","webpack:///./static/icons/live/red_picked.png","webpack:///./static/icons/live/right.png","webpack:///./static/icons/live/right_l.png","webpack:///./static/icons/live/xs.png","webpack:///./static/icons/live/xs_picked.png","webpack:///./src/components/bars/toolsBar.vue?4a8f","webpack:///./src/pages/class/onClass.vue?ca46","webpack:///./src/components/bars/toolsBar.vue","webpack:///./src/components/bars/toolsBar.vue?7fba","webpack:///./src/pages/class/onClass.vue?d967","webpack:///./src/components/bars/toolsBar.vue?dc89","webpack:///./src/pages/class/onClass.vue?428f","webpack:///./js/webrtc.js","webpack:///toolsBar.vue","webpack:///onClass.vue","webpack:///./src/common/scripts/XBoard.js","webpack:///./src/common/scripts/XaudioBox.js","webpack:///./src/common/scripts/XmediaStream.js"],"names":["WebRTC","role","PeerConnection","window","webkitPeerConnection00","webkitRTCPeerConnection","mozRTCPeerConnection","URL","webkitURL","msURL","oURL","getUserMedia","navigator","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","mediaDevices","nativeRTCIceCandidate","mozRTCIceCandidate","RTCIceCandidate","nativeRTCSessionDescription","mozRTCSessionDescription","RTCSessionDescription","moz","websocketServer","packetSize","iceServer","urls","username","credential","credentialType","mandatory","OfferToReceiveAudio","OfferToReceiveVideo","optional","DtlsSrtpKeyAgreement","EventEmitter","events","onceEvents","prototype","on","eventName","callback","push","once","emit","_","args","Array","slice","call","arguments","i","m","length","apply","webrtc","uid","key","me","localMediaStream","room","websocket","peerConnections","connections","connect","that","url","close","console","log","WebSocket","onopen","join","onmessage","message","json","JSON","parse","data","cmd","onerror","error","onclose","send","stringify","closeSource","initEvents","mediaReady","pc","socketId","addIceCandidate","you","createPeerConnection","sendOffer","closePeerConnection","sendAnswer","sdp","setRemoteDescription","fn","createOffer","session_desc","setLocalDescription","err","createAnswer","createLocalStream","options","stream","Error","attachStream","domId","element","document","getElementById","mozSrcObject","play","src","createObjectURL","removeStream","revokeObjectURL","onicecandidate","evt","candidate","sdpMLineIndex","onaddstream","onnegotiationneeded","onremovestream","ondatachannel","onsignalingstatechange","target","signalingState","oniceconnectionstatechange","connectionState","onicegatheringstatechange","iceGatheringState","addStream","createDataChannel","splice","indexOf","closePeerConnections","forEach","removeVideoTrack","e","videoStream","getVideoTracks","removeTrack","id","addVideoTrack","addTrack","XBoard","DomId","canvasDom","ctx","isPainting","isUsingEraser","height","undefined","width","top","left","color","penSize","eraserSize","scaleX","scaleY","tempPoint","tempClearPoint","tolerantRadious","pointsData","writeFn","eraserFn","clearFn","_bindEvents","self","setAttribute","beginPath","moveTo","clientX","clientY","_temp","size","point","x","y","closePath","strokeStyle","lineWidth","clearRect","lineTo","storeTempData","stroke","getContext","offset","alert","changeColor","changeSize","clearAllCanvas","clearData","useEraser","cancelEraser","recompute","pointX","pointY","plotPoints","clearLine","drawLine","points","bindCallBack","plotByOutPoints","dataArray","item","_data","tempData","dataTemplate","XAudioBox","audioCtx","streamSource","analyser","isInit","audioObj","animationId","boxCount","maxCount","initBox","AudioContext","loadStream","createMediaStreamSource","createDataArray","arrLength","createAnalyser","fftSize","Uint8Array","frequencyBinCount","outputData","_ani","getByteFrequencyData","requestAnimationFrame","loadSrc","audioSrc","Audio","createMediaElementSource","playSrc","volume","destination","stop","cancelAnimationFrame","XMediaStream","mediaTracks","mediaTracksRecycle","mediaStream","streamId","mediaCount","createMedia","name","constraint","_constraint","Object","keys","Promise","resolve","reject","then","getTracks","catch","rejected","removeAllTracks","removeTracks","recoveryTracks","stopAll","getLabel","_labels","kind","label","recordStream"],"mappings":";;;;;;AACA;AACA,uBAA+K;;AAE/K;AACA;AACA;AACA;AACA,yBAA8G;AAC9G;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACfA;AACA;;;AAGA;AACA,8CAA+C,0CAA0C,MAAM,qCAAqC,kCAAkC,iCAAiC,gCAAgC,6BAA6B,GAAG,QAAQ,qCAAqC,kCAAkC,iCAAiC,gCAAgC,6BAA6B,mBAAmB,GAAG,GAAG,4BAA4B,wBAAwB,oBAAoB,GAAG,mCAAmC,oBAAoB,+BAA+B,8BAA8B,0BAA0B,+BAA+B,4BAA4B,2BAA2B,0BAA0B,uBAAuB,mBAAmB,kBAAkB,mBAAmB,6BAA6B,GAAG,mCAAmC,0BAA0B,qBAAqB,GAAG,qCAAqC,0BAA0B,qBAAqB,GAAG,mCAAmC,gCAAgC,kDAAkD,qBAAqB,GAAG,mCAAmC,0BAA0B,qBAAqB,GAAG,iCAAiC,0BAA0B,qBAAqB,GAAG;;AAEt2C;;;;;;;;;ACNA;AACA,uBAA+K;;AAE/K;AACA;AACA;AACA;AACA,yBAA8G;AAC9G;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACfA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,yCAAyC,0BAA0B;AACnE,GAAG;AACH;AACA,GAAG;AACH,0CAA0C,4BAA4B;AACtE,GAAG;AACH;AACA,GAAG;AACH,0CAA0C,4BAA4B;AACtE,GAAG;AACH;AACA,GAAG;AACH,0CAA0C,4BAA4B;AACtE,GAAG;AACH;AACA,GAAG;AACH,0CAA0C,4BAA4B;AACtE,GAAG;AACH;AACA,GAAG;AACH,0CAA0C,4BAA4B;AACtE,GAAG;AACH,CAAC,qB;;;;;;;ACzBD;;AAEA;AACA,qCAAsN;AACtN;AACA;AACA;AACA,gE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2CA;;;;;;;;OAEA;aACA;uBACA;SACA;AACA;;;AAEA;;SAEA;YAGA;AAJA;;AAKA;;SAEA;AAGA;;;YAEA;AANA;;SAQA;YAEA;AAHA;;SAKA;YAEA;AAHA;;SAKA;YAEA;AAHA;;YAOA;AAHA;AA3BA;WA+BA;6BACA,CACA;6BACA,CACA;;UACA;AA1CA,E;;;;;;;ACnDA,wD;;;;;;;ACAA,0D;;;;;;;ACAA,kD;;;;;;;ACAA,kD;;;;;;;ACAA,kD;;;;;;;ACAA,kD;;;;;;;ACAA,kD;;;;;;;ACAA,kD;;;;;;;ACAA,sD;;;;;;;ACAA,qD;;;;;;;ACAA,4D;;;;;;;ACAA,oD;;;;;;;ACAA,2D;;;;;;;ACAA,qD;;;;;;;ACAA,qD;;;;;;;ACAA,sD;;;;;;;ACAA,oD;;;;;;;ACAA,sD;;;;;;;ACAA,kD;;;;;;;ACAA,yD;;;;;;;ACAA,oD;;;;;;;ACAA,mD;;;;;;;ACAA,0D;;;;;;;ACAA,wD;;;;;;;ACAA,mD;;;;;;;ACAA,0D;;;;;;;ACAA,qD;;;;;;;ACAA,uD;;;;;;;ACAA,kD;;;;;;;ACAA,yD;;;;;;;ACAA;AACA;;;AAGA;AACA,8CAA+C,0CAA0C,MAAM,qCAAqC,kCAAkC,iCAAiC,gCAAgC,6BAA6B,GAAG,QAAQ,qCAAqC,kCAAkC,iCAAiC,gCAAgC,6BAA6B,mBAAmB,GAAG,GAAG,8BAA8B,uBAAuB,kBAAkB,0BAA0B,gBAAgB,iBAAiB,wBAAwB,GAAG,mCAAmC,uBAAuB,wBAAwB,yBAAyB,oBAAoB,4BAA4B,0BAA0B,sBAAsB,qBAAqB,GAAG,uCAAuC,sBAAsB,oBAAoB,4BAA4B,0BAA0B,GAAG,sCAAsC,iBAAiB,yBAAyB,oBAAoB,4BAA4B,GAAG,2CAA2C,2BAA2B,sBAAsB,iCAAiC,gCAAgC,4BAA4B,oBAAoB,qBAAqB,GAAG,+CAA+C,sBAAsB,uBAAuB,0BAA0B,GAAG,oEAAoE,wBAAwB,wCAAwC,4BAA4B,GAAG,oCAAoC,yBAAyB,eAAe,mBAAmB,oBAAoB,4BAA4B,0BAA0B,GAAG,sCAAsC,2BAA2B,wBAAwB,uBAAuB,oBAAoB,GAAG,wCAAwC,wBAAwB,GAAG,uCAAuC,eAAe,kBAAkB,yBAAyB,GAAG,2CAA2C,wBAAwB,GAAG,2BAA2B,uBAAuB,gBAAgB,kBAAkB,6BAA6B,wBAAwB,kBAAkB,gBAAgB,wBAAwB,iBAAiB,GAAG,+BAA+B,sBAAsB,uBAAuB,kBAAkB,mBAAmB,GAAG,iCAAiC,wBAAwB,GAAG;;AAElgF;;;;;;;;ACPA;AACA;;;AAGA;AACA,8CAA+C,0CAA0C,MAAM,qCAAqC,kCAAkC,iCAAiC,gCAAgC,6BAA6B,GAAG,QAAQ,qCAAqC,kCAAkC,iCAAiC,gCAAgC,6BAA6B,mBAAmB,GAAG,GAAG,6BAA6B,yBAAyB,kBAAkB,GAAG,qCAAqC,kBAAkB,oBAAoB,sBAAsB,mBAAmB,0BAA0B,GAAG,uCAAuC,2BAA2B,wBAAwB,uBAAuB,GAAG,yCAAyC,wBAAwB,oBAAoB,qBAAqB,iBAAiB,2BAA2B,oBAAoB,GAAG,kCAAkC,oBAAoB,4BAA4B,mBAAmB,0BAA0B,sCAAsC,2BAA2B,qBAAqB,mBAAmB,oCAAoC,8BAA8B,mBAAmB,GAAG,wCAAwC,+BAA+B,kCAAkC,mBAAmB,oBAAoB,4BAA4B,sBAAsB,0BAA0B,4BAA4B,sDAAsD,6CAA6C,6BAA6B,yCAAyC,8BAA8B,2BAA2B,GAAG,uDAAuD,wBAAwB,yBAAyB,GAAG,4DAA4D,iCAAiC,iCAAiC,8BAA8B,6BAA6B,GAAG,wDAAwD,6BAA6B,+BAA+B,2CAA2C,+BAA+B,sBAAsB,4BAA4B,2BAA2B,GAAG,4DAA4D,8BAA8B,+BAA+B,2BAA2B,GAAG,yCAAyC,6CAA6C,yBAAyB,0BAA0B,GAAG,mDAAmD,yBAAyB,yBAAyB,GAAG,GAAG,yCAAyC,6CAA6C,yBAAyB,0BAA0B,GAAG,mDAAmD,wBAAwB,yBAAyB,GAAG,GAAG,wCAAwC,sCAAsC,sBAAsB,GAAG,wCAAwC,wBAAwB,GAAG,GAAG,kCAAkC,oBAAoB,eAAe,aAAa,uBAAuB,gBAAgB,iBAAiB,GAAG,6BAA6B,cAAc,+BAA+B,GAAG,iCAAiC,eAAe,WAAW,uBAAuB,gBAAgB,iBAAiB,GAAG,kCAAkC,WAAW,eAAe,uBAAuB,gBAAgB,iBAAiB,GAAG,4BAA4B,WAAW,gBAAgB,uBAAuB,gBAAgB,iBAAiB,GAAG,gCAAgC,kBAAkB,mBAAmB,GAAG,0BAA0B,WAAW,uBAAuB,eAAe,gBAAgB,iBAAiB,kBAAkB,6BAA6B,4BAA4B,wBAAwB,mCAAmC,GAAG,+BAA+B,yBAAyB,iBAAiB,GAAG,+BAA+B,uBAAuB,gBAAgB,iBAAiB,wBAAwB,kBAAkB,6BAA6B,4BAA4B,wBAAwB,oBAAoB,mBAAmB,GAAG;;AAE3wI;;;;;;;;;ACNA;AACA,uBAA+K;;AAE/K;AACA;AACA;AACA;AACA,yBAA8G;AAC9G;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACfA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH,CAAC,qB;;;;;;;ACtOD,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC,qB;;;;;;;AC/ND;;AAEA;AACA,qCAAsN;AACtN;AACA;AACA;AACA,gE;;;;;;;ACPA;;AAEA;AACA,qCAAsN;AACtN;AACA;AACA;AACA,gE;;;;;;;;;;;;;ACPA,IAAIA,SAAS,SAATA,MAAS,CAASC,IAAT,EAAe;AACxB,QAAIC,iBAAkBC,OAAOD,cAAP,IAAyBC,OAAOC,sBAAhC,IAA0DD,OAAOE,uBAAjE,IAA4FF,OAAOG,oBAAzH;AAAA,QAEAC,MAAOJ,OAAOI,GAAP,IAAcJ,OAAOK,SAArB,IAAkCL,OAAOM,KAAzC,IAAkDN,OAAOO,IAFhE;AAAA,QAIAC,eAAgBC,UAAUD,YAAV,IAA0BC,UAAUC,kBAApC,IAA0DD,UAAUE,eAApE,IAAuFF,UAAUG,cAAjG,IAAmHH,UAAUI,YAAV,CAAuBL,YAJ1J;AAAA,QAMAM,wBAAyBd,OAAOe,kBAAP,IAA6Bf,OAAOgB,eAN7D;AAAA,QAQAC,8BAA+BjB,OA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UA,CACA;6BAEA,CACA;;;wCAEA;qBACA;sBACA;AACA;wBACA;0BACA;eACA;AACA;AACA;8BACA;qCACA;eACA;AACA;AACA;;AAEA;cACA;AACA;kCACA;qBACA;4BACA;AACA;gCACA;sBACA;2BACA;AACA;sCACA;gCACA;+BACA;AACA;iCACA;4BACA;6BACA;AACA;oCACA;gCACA;gCACA;AACA;kCACA;2BACA;4BACA;AACA;kCACA;QACA;yBACA;eACA;uBACA;UACA;eACA;uBACA;AACA;AACA;sCACA;QACA;cACA;AACA;gCACA;cACA;AACA;;AACA;;qBACA;iDACA;8BACA;WACA;sBACA;WACA;WACA;AACA;kBACA;gBACA;AAEA;AAGA;AA3EA;AA/CA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAHA,E;;;;;;;;;;;;;;AC2BA;;;;AACA;;AACA;;AACA;;AACA;;AAIA;;;;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AApBA;;AAQA;;;;;;;;;OAcA;;AAEA;AAEA;AAHA;uBAIA;;cAEA;aACA;aACA;eACA;iBACA;gBACA;gBACA;YACA;YACA;kBACA;mBACA;mBACA;oBACA;eACA;gBACA;gBACA;iBACA;aACA;cACA;WACA;cACA;iBACA;cACA;qBACA;oCACA;gBACA;uBACA;uBACA;cACA;YAEA;AA/BA;AAgCA;;QACA;;8BAEA;sBACA;AACA;8BACA;2BACA;AACA;;;;AAEA;;gCACA;4DACA;qBACA;yBACA;AACA;kDACA;yBACA;oBACA;0BACA;AACA;qBACA;WACA;qBACA;AAEA;AACA;;AAEA;oBACA;AAGA;AAvBA;AAPA;6BA+BA,CACA;;AACA;;AACA;sCACA;2BACA;AACA;wCACA;AACA;qCACA;UACA;AACA;AACA;OACA;AACA;yDACA;2DAEA;;AACA;2EACA;AACA;gEACA;mBACA;4BACA;8BACA;AAEA;;yCACA;;qDAEA;kEAEA;;AACA;6CAEA;;iEAEA;;AACA;wCACA;AACA;AAXA;;;;;;AAYA;;8BACA;+BACA;AAEA;;AACA;;;;;;;;;;;;;;;;+DAEA;;kDAEA;;;AAEA;WAEA;;AACA;6DACA;;;;;;;AACA;;mDACA;AACA;AACA;uDACA;oDACA;8DACA;oDACA;aACA;qFACA;AACA;mDACA;cACA;AAEA;;;AAIA;;;;;;;;;;;;;;;iBACA;kBACA;AAEA;AAEA;;AAGA;;OAGA;AACA;yCACA;AACA;OACA;OACA;sCACA;2BACA;AACA;;;oCAEA;sBACA;AACA;+CACA;kBACA;AACA;+CACA;kBACA;AACA;;;AACA;AACA;AACA;;AAEA;AAEA;AACA;8BACA;iCACA;gCACA;oBACA;AACA;;AACA;gCACA;eACA;6BACA;AACA;;AACA;;;;AAGA;;AACA;+DACA;kDACA;WACA;AACA;wBACA;mDACA;WACA;AAGA;;eACA;+DACA;oBACA;uBACA;AACA;wBACA;+CAEA;WACA;qDACA;AAEA;2BACA;kBACA;AACA;AACA;;AACA;kCACA;6BACA;eACA;AACA;;AACA;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;oDACA;AACA;gBACA;WACA;AAEA;;qEACA;0BACA;gCACA,QACA;iDACA;;AAEA;AACA;wDACA;uDACA;0BACA;cACA;aACA;AACA;+DACA;2BACA;gEACA;AACA;AACA;AACA;YACA;WACA;4BACA;oCACA;yDACA;aACA;AAEA;AAEA;2BACA;gBACA;AACA;AACA;;AACA;8CACA;sCACA;wEACA;sBACA;wBACA;yBACA;cACA;;aAEA;;;2BAGA;AADA;4BAGA;AADA;4BAKA;AAHA;AALA,MAUA;;AAZA,4CAcA;;AACA;6BACA;AAEA;;4CACA;qBACA;kCACA;AACA;oBACA;kBACA;+BACA;kCACA;yCACA;sEACA;AACA;0BACA;+BACA;qEACA;8BACA;AAEA;;yCACA;AACA;sBACA;mCACA;qBACA;mBACA;gCACA;mCACA;0CACA;uEACA;AACA;yBACA;0EACA;8BACA;qBACA;AAGA;;wCACA;gBACA;AACA;0CACA;gBACA;AAEA;;4DACA;gCACA;uDAEA;2BACA;gBACA;AAEA;AACA;;AACA;wBACA;WACA;OACA;uBACA;yBACA;cACA;;AAEA;qBACA;;AAGA;;+BACA;qBACA;AAEA;;4BACA;;AAEA;;;AAIA;AACA;iBACA;gBACA;AAEA;AACA;0CACA;eACA;WACA;SACA;aACA;AACA;SACA;aACA;AACA;SACA;aACA;AAEA;;gCACA;AACA;wCACA;cACA;WACA;SACA;YACA;AACA;SACA;YACA;AACA;SACA;YACA;AAEA;;+BACA;AACA;kCACA;oBACA;AACA;wCACA;oBACA;AACA;;AACA;;wCACA;uBACA;AACA;AACA;oCACA;kDACA;eACA;AACA;;;;AAEA;uBACA;qDACA;4CACA;qDACA;8BACA;yBACA;AACA;UACA;6BACA;gDACA;sBACA;;;AAEA;AACA;AACA;AAGA;AACA;;AACA;;AACA;;;2CAEA;2CAGA;;AAJA;;AAMA;+BACA;AACA;;AACA;AAEA;0FACA;WACA;AAGA;AACA;;AACA;;AACA;;;2CAEA;2CAGA;;AAJA;wEAKA;0BACA;mDACA;AACA;AACA;;AAEA;YACA;WACA;4BACA;AAEA;AACA;AACA;;AACA;0CACA;eACA;wBACA;+CACA;gDACA;6BACA;sBACA;WACA;AACA;+CACA;oBACA;AACA;;AACA;wCACA;4BACA;wBACA;AACA;6BACA;yBACA;AACA;sBACA;kBACA;AACA;uBACA;mBACA;AAEA;AACA;;AACA;iDACA;AACA;uDAEA;AACA;4CACA;iDACA;AACA;wCACA;;UAEA;UAEA;AAHA;2CAIA;AACA;0CACA;eACA;AACA;;AACA;wCACA;WACA;;AACA;AACA;AAEA;+BACA;AACA;SACA;+BACA;AACA;SACA;+BACA;AACA;;AACA;AACA;AAEA;+BACA;AAEA;;AACA;;AAEA,8FADA;;;uBAGA;sBACA;UACA;AAHA,uBAIA;AACA;wBACA;AACA;AACA;AACA;;AACA;;;;;AAEA;iCACA;gCACA;oBACA;qBACA;4BACA;sCACA;AACA;4BACA;qCACA;AAGA;AAEA;AA5aA;AAvKA;AAHA;AACA,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","file":"1.build.js","sourcesContent":["\n/* styles */\nrequire(\"!!vue-style-loader!css-loader!../../../node_modules/.11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-bd0a5754\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader!../../../node_modules/.11.3.4@vue-loader/lib/selector?type=styles&index=0!./onClass.vue\")\n\nvar Component = require(\"!../../../node_modules/.11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/.11.3.4@vue-loader/lib/selector?type=script&index=0!./onClass.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/.11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bd0a5754\\\"}!../../../node_modules/.11.3.4@vue-loader/lib/selector?type=template&index=0!./onClass.vue\"),\n  /* scopeId */\n  \"data-v-bd0a5754\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/class/onClass.vue\n// module id = 127\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/.0.28.4@css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n@charset \\\"UTF-8\\\";\\n/*颜色区*/\\n/*横向盒子*/\\n@keyframes picScale {\\n0% {\\n    -webkit-transform: scale(1.01);\\n    -moz-transform: scale(1.01);\\n    -ms-transform: scale(1.01);\\n    -o-transform: scale(1.01);\\n    transform: scale(1.01);\\n}\\n100% {\\n    -webkit-transform: scale(1.15);\\n    -moz-transform: scale(1.15);\\n    -ms-transform: scale(1.15);\\n    -o-transform: scale(1.15);\\n    transform: scale(1.15);\\n    opacity: .86;\\n}\\n}\\n.bscBtn[data-v-daf7d28e] {\\n  font-family: SimHei;\\n  cursor: pointer;\\n}\\n.bscBtn-common[data-v-daf7d28e] {\\n    display: flex;\\n    flex-flow: nowrap column;\\n    justify-content: center;\\n    align-items: center;\\n    -webkit-border-radius: 0;\\n    -moz-border-radius: 0;\\n    -ms-border-radius: 0;\\n    -o-border-radius: 0;\\n    border-radius: 0;\\n    height: 100%;\\n    width: 100%;\\n    border: none;\\n    box-sizing: border-box;\\n}\\n.bscBtn-yellow[data-v-daf7d28e] {\\n    background: #ffd944;\\n    color: #ffffff;\\n}\\n.bscBtn-disabled[data-v-daf7d28e] {\\n    background: #dcdcdc;\\n    color: #ffffff;\\n}\\n.bscBtn-normal[data-v-daf7d28e] {\\n    border: 1px solid #dcdcdc;\\n    /*下面这个颜色看得我贼jb难受*/\\n    background: #ffffff;\\n    color: #231815;\\n}\\n.bscBtn-orange[data-v-daf7d28e] {\\n    background: #f4a100;\\n    color: #ffffff;\\n}\\n.bscBtn-grey[data-v-daf7d28e] {\\n    background: #b9b9b9;\\n    color: #ffffff;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.0.28.4@css-loader!./~/.11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-daf7d28e\",\"scoped\":true,\"hasInlineConfig\":false}!./~/.6.0.6@sass-loader/lib/loader.js!./~/.11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./src/components/buttons/basicButtons.vue\n// module id = 134\n// module chunks = 0 1 3 4 5 6 8","\n/* styles */\nrequire(\"!!vue-style-loader!css-loader!../../../node_modules/.11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-daf7d28e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader!../../../node_modules/.11.3.4@vue-loader/lib/selector?type=styles&index=0!./basicButtons.vue\")\n\nvar Component = require(\"!../../../node_modules/.11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/.11.3.4@vue-loader/lib/selector?type=script&index=0!./basicButtons.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/.11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-daf7d28e\\\"}!../../../node_modules/.11.3.4@vue-loader/lib/selector?type=template&index=0!./basicButtons.vue\"),\n  /* scopeId */\n  \"data-v-daf7d28e\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/buttons/basicButtons.vue\n// module id = 135\n// module chunks = 0 1 3 4 5 6 8","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"bscBtn\",\n    style: ('height:' + _vm.height + 'px;width:' + _vm.width + 'px;')\n  }, [(_vm.styles === 'grey') ? _c('div', {\n    staticClass: \"bscBtn-common bscBtn-disabled\"\n  }, [_c('p', {\n    style: ('font-size:' + _vm.size + 'px;color:' + _vm.fontColor + ';')\n  }, [_vm._v(\"\\n\\t\\t\\t\" + _vm._s(_vm.title) + \"\\n\\t\\t\")])]) : _vm._e(), _vm._v(\" \"), (_vm.styles === 'grey_d') ? _c('div', {\n    staticClass: \"bscBtn-common bscBtn-grey\"\n  }, [_c('p', {\n    style: ('font-size:' + _vm.size + 'px;color:' + _vm.fontColor + ';')\n  }, [_vm._v(\"\\n\\t\\t\\t\" + _vm._s(_vm.title) + \"\\n\\t\\t\")])]) : _vm._e(), _vm._v(\" \"), (_vm.styles === 'yellow') ? _c('div', {\n    staticClass: \"bscBtn-common bscBtn-yellow\"\n  }, [_c('p', {\n    style: ('font-size:' + _vm.size + 'px;color:' + _vm.fontColor + ';')\n  }, [_vm._v(\"\\n\\t\\t\\t\" + _vm._s(_vm.title) + \"\\n\\t\\t\")])]) : _vm._e(), _vm._v(\" \"), (_vm.styles === 'white') ? _c('div', {\n    staticClass: \"bscBtn-common bscBtn-normal\"\n  }, [_c('p', {\n    style: ('font-size:' + _vm.size + 'px;color:' + _vm.fontColor + ';')\n  }, [_vm._v(\"\\n\\t\\t\\t\" + _vm._s(_vm.title) + \"\\n\\t\\t\")])]) : _vm._e(), _vm._v(\" \"), (_vm.styles === 'orange') ? _c('div', {\n    staticClass: \"bscBtn-common bscBtn-orange\"\n  }, [_c('p', {\n    style: ('font-size:' + _vm.size + 'px;color:' + _vm.fontColor + ';')\n  }, [_vm._v(\"\\n\\t\\t\\t\" + _vm._s(_vm.title) + \"\\n\\t\\t\")])]) : _vm._e()])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-daf7d28e\"}!./~/.11.3.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/buttons/basicButtons.vue\n// module id = 136\n// module chunks = 0 1 3 4 5 6 8","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/.0.28.4@css-loader/index.js!../../../node_modules/.11.3.4@vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-daf7d28e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/.6.0.6@sass-loader/lib/loader.js!../../../node_modules/.11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./basicButtons.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/.2.0.5@vue-style-loader/lib/addStylesClient.js\")(\"5ce4d7ff\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.2.0.5@vue-style-loader!./~/.0.28.4@css-loader!./~/.11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-daf7d28e\",\"scoped\":true,\"hasInlineConfig\":false}!./~/.6.0.6@sass-loader/lib/loader.js!./~/.11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./src/components/buttons/basicButtons.vue\n// module id = 137\n// module chunks = 0 1 3 4 5 6 8","<!--TODO:根据需求继续封装，以后全部按钮均调用这个组件-->\n<template>\n\t<div class=\"bscBtn\" :style=\"'height:'+height+'px;width:'+width+'px;'\">\n\t\t<!--浅灰按钮 -->\n\t\t<div v-if=\"styles === 'grey'\" class=\"bscBtn-common bscBtn-disabled\">\n\t\t\t<p :style=\"'font-size:'+size+'px;color:'+fontColor+';'\">\n\t\t\t\t{{title}}\n\t\t\t</p>\n\n\t\t</div>\n\n\t\t<!--深灰按钮-->\n\t\t<div v-if=\"styles === 'grey_d'\" class=\"bscBtn-common bscBtn-grey\">\n\t\t\t<p :style=\"'font-size:'+size+'px;color:'+fontColor+';'\">\n\t\t\t\t{{title}}\n\t\t\t</p>\n\n\t\t</div>\n\n\t\t<!--黄色按钮-->\n\t\t<div v-if=\"styles === 'yellow'\" class=\"bscBtn-common bscBtn-yellow\">\n\t\t\t<p :style=\"'font-size:'+size+'px;color:'+fontColor+';'\">\n\t\t\t\t{{title}}\n\t\t\t</p>\n\t\t</div>\n\n\t\t<!--白色按钮-->\n\t\t<div v-if=\"styles === 'white'\" class=\"bscBtn-common bscBtn-normal\">\n\t\t\t<p :style=\"'font-size:'+size+'px;color:'+fontColor+';'\">\n\t\t\t\t{{title}}\n\t\t\t</p>\n\t\t</div>\n\n\t\t<!--橙色按钮-->\n\t\t<div v-if=\"styles === 'orange'\" class=\"bscBtn-common bscBtn-orange\">\n\t\t\t<p :style=\"'font-size:'+size+'px;color:'+fontColor+';'\">\n\t\t\t\t{{title}}\n\t\t\t</p>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\t/*按钮组\n\t * 接口详情\n\t * 1. title按钮文字\n\t * 2. styles(white,grey,yellow,orange)\n\t * 3. size字体大小\n\t * 4. height width 按钮的长宽\n\t * 5. fontColor 按钮字体颜色*/\n\texport default {\n\t\tname: \"\",\n\t\tcomponents: {},\n\t\tdata () {\n\t\t\treturn {}\n\t\t},\n\t\tprops: {\n\t\t\t/*显示文字*/\n\t\t\ttitle: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: '进入教室'\n\t\t\t},\n\n\t\t\t/*样式种类*/\n\t\t\tstyles: {\n\t\t\t\ttype: String,\n\t\t\t\t/*\n\t\t\t\t white,grey,yellow,orange\n\t\t\t\t */\n\t\t\t\tdefault: 'white'\n\t\t\t},\n\t\t\tsize: {\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 18\n\t\t\t},\n\t\t\theight: {\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 50\n\t\t\t},\n\t\t\twidth: {\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 200\n\t\t\t},\n\t\t\tfontColor:{\n\t\t\t\tdefault:null\n\t\t\t}\n\t\t},\n\t\tcomputed: {},\n\t\tcreated () {\n\t\t},\n\t\tmounted () {\n\t\t},\n\t\tmethods: {}\n\t}\n</script>\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\n\t@import \"../../common/styles/mixin\";\n\n\t.bscBtn {\n\t\tfont-family: SimHei;\n\t\tcursor: pointer;\n\t\t&-common {\n\t\t\t@include allMidBox();\n\t\t\t@include borderRadius(0);\n\t\t\theight: 100%;\n\t\t\twidth: 100%;\n\t\t\tborder: none;\n\t\t\tbox-sizing: border-box;\n\t\t}\n\t\t&-yellow {\n\t\t\tbackground: $yellow;\n\t\t\tcolor: $btn_wht;\n\t\t}\n\t\t&-disabled {\n\t\t\tbackground: $btn_gry;\n\t\t\tcolor: $btn_wht;\n\t\t}\n\t\t&-normal {\n\t\t\t@include fullBorder(1px, $border);\n\t\t\t/*下面这个颜色看得我贼jb难受*/\n\t\t\tbackground: #ffffff;\n\t\t\tcolor: $fontClr_main;\n\t\t}\n\t\t&-orange {\n\t\t\tbackground: $btn_org;\n\t\t\tcolor: $btn_wht;\n\t\t}\n\t\t&-grey{\n\t\t\tbackground: $btn_gry_d;\n\t\t\tcolor: $btn_wht;\n\t\t}\n\t}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// basicButtons.vue?5182926a","module.exports = __webpack_public_path__ + \"closeBtn.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/closeBtn.png\n// module id = 144\n// module chunks = 1","module.exports = __webpack_public_path__ + \"add_circle.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/add_circle.png\n// module id = 154\n// module chunks = 1","module.exports = __webpack_public_path__ + \"s1.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/s1.png\n// module id = 156\n// module chunks = 1","module.exports = __webpack_public_path__ + \"s2.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/s2.png\n// module id = 157\n// module chunks = 1","module.exports = __webpack_public_path__ + \"s3.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/s3.png\n// module id = 158\n// module chunks = 1","module.exports = __webpack_public_path__ + \"s4.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/s4.png\n// module id = 159\n// module chunks = 1","module.exports = __webpack_public_path__ + \"s5.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/s5.png\n// module id = 160\n// module chunks = 1","module.exports = __webpack_public_path__ + \"s6.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/s6.png\n// module id = 161\n// module chunks = 1","module.exports = __webpack_public_path__ + \"addNew.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/addNew.png\n// module id = 175\n// module chunks = 1","module.exports = __webpack_public_path__ + \"black.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/black.png\n// module id = 176\n// module chunks = 1","module.exports = __webpack_public_path__ + \"black_picked.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/black_picked.png\n// module id = 177\n// module chunks = 1","module.exports = __webpack_public_path__ + \"blue.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/blue.png\n// module id = 178\n// module chunks = 1","module.exports = __webpack_public_path__ + \"blue_picked.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/blue_picked.png\n// module id = 179\n// module chunks = 1","module.exports = __webpack_public_path__ + \"clear.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/clear.png\n// module id = 180\n// module chunks = 1","module.exports = __webpack_public_path__ + \"color.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/color.png\n// module id = 181\n// module chunks = 1","module.exports = __webpack_public_path__ + \"delete.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/delete.png\n// module id = 182\n// module chunks = 1","module.exports = __webpack_public_path__ + \"left.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/left.png\n// module id = 183\n// module chunks = 1","module.exports = __webpack_public_path__ + \"left_l.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/left_l.png\n// module id = 184\n// module chunks = 1","module.exports = __webpack_public_path__ + \"lg.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/lg.png\n// module id = 185\n// module chunks = 1","module.exports = __webpack_public_path__ + \"lg_picked.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/lg_picked.png\n// module id = 186\n// module chunks = 1","module.exports = __webpack_public_path__ + \"line.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/line.png\n// module id = 187\n// module chunks = 1","module.exports = __webpack_public_path__ + \"mid.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/mid.png\n// module id = 188\n// module chunks = 1","module.exports = __webpack_public_path__ + \"mid_picked.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/mid_picked.png\n// module id = 189\n// module chunks = 1","module.exports = __webpack_public_path__ + \"offClass.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/offClass.png\n// module id = 190\n// module chunks = 1","module.exports = __webpack_public_path__ + \"red.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/red.png\n// module id = 191\n// module chunks = 1","module.exports = __webpack_public_path__ + \"red_picked.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/red_picked.png\n// module id = 192\n// module chunks = 1","module.exports = __webpack_public_path__ + \"right.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/right.png\n// module id = 193\n// module chunks = 1","module.exports = __webpack_public_path__ + \"right_l.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/right_l.png\n// module id = 194\n// module chunks = 1","module.exports = __webpack_public_path__ + \"xs.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/xs.png\n// module id = 195\n// module chunks = 1","module.exports = __webpack_public_path__ + \"xs_picked.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/icons/live/xs_picked.png\n// module id = 196\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/.0.28.4@css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n@charset \\\"UTF-8\\\";\\n/*颜色区*/\\n/*横向盒子*/\\n@keyframes picScale {\\n0% {\\n    -webkit-transform: scale(1.01);\\n    -moz-transform: scale(1.01);\\n    -ms-transform: scale(1.01);\\n    -o-transform: scale(1.01);\\n    transform: scale(1.01);\\n}\\n100% {\\n    -webkit-transform: scale(1.15);\\n    -moz-transform: scale(1.15);\\n    -ms-transform: scale(1.15);\\n    -o-transform: scale(1.15);\\n    transform: scale(1.15);\\n    opacity: .86;\\n}\\n}\\n.toolsBar[data-v-3f5fff42] {\\n  position: relative;\\n  display: flex;\\n  flex-flow: row nowrap;\\n  width: 100%;\\n  height: 30px;\\n  background: #32373d;\\n}\\n.toolsBar-time[data-v-3f5fff42] {\\n    padding-top: 2px;\\n    margin-left: 10px;\\n    margin-right: 20px;\\n    display: flex;\\n    flex-flow: row nowrap;\\n    align-items: center;\\n    font-size: 12px;\\n    color: #f5f5f5;\\n}\\n.toolsBar-offClass[data-v-3f5fff42] {\\n    cursor: pointer;\\n    display: flex;\\n    flex-flow: row nowrap;\\n    align-items: center;\\n}\\n.toolsBar-toolBtn[data-v-3f5fff42] {\\n    right: 42%;\\n    position: absolute;\\n    display: flex;\\n    flex-flow: row nowrap;\\n}\\n.toolsBar-toolBtn-item[data-v-3f5fff42] {\\n      position: relative;\\n      display: flex;\\n      flex-flow: nowrap column;\\n      justify-content: center;\\n      align-items: center;\\n      width: 40px;\\n      height: 30px;\\n}\\n.toolsBar-toolBtn-item img[data-v-3f5fff42] {\\n        width: 22px;\\n        height: 22px;\\n        cursor: pointer;\\n}\\n.toolsBar-toolBtn-item[data-v-3f5fff42]:not(:nth-child(3)):hover {\\n      cursor: pointer;\\n      transition: all ease-in-out .3s;\\n      background: #23262b;\\n}\\n.toolsBar-pager[data-v-3f5fff42] {\\n    position: absolute;\\n    top: 8px;\\n    right: 100px;\\n    display: flex;\\n    flex-flow: row nowrap;\\n    align-items: center;\\n}\\n.toolsBar-pager p[data-v-3f5fff42] {\\n      text-align: center;\\n      font-size: 12px;\\n      color: #f5f5f5;\\n      width: 40px;\\n}\\n.toolsBar-pager img[data-v-3f5fff42] {\\n      cursor: pointer;\\n}\\n.toolsBar-addPaper[data-v-3f5fff42] {\\n    top: 4px;\\n    right: 20px;\\n    position: absolute;\\n}\\n.toolsBar-addPaper img[data-v-3f5fff42] {\\n      cursor: pointer;\\n}\\n.toBox[data-v-3f5fff42] {\\n  position: absolute;\\n  z-index: 10;\\n  display: flex;\\n  flex-flow: column nowrap;\\n  align-items: center;\\n  height: 140px;\\n  width: 35px;\\n  background: #f5f5f5;\\n  bottom: 30px;\\n}\\n.toBox img[data-v-3f5fff42] {\\n    cursor: pointer;\\n    margin-top: 15px;\\n    width: 27px;\\n    height: 27px;\\n}\\n.isUseEraser[data-v-3f5fff42] {\\n  background: #b3b3b3;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.0.28.4@css-loader!./~/.11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-3f5fff42\",\"scoped\":true,\"hasInlineConfig\":false}!./~/.6.0.6@sass-loader/lib/loader.js!./~/.11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./src/components/bars/toolsBar.vue\n// module id = 212\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/.0.28.4@css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n@charset \\\"UTF-8\\\";\\n/*颜色区*/\\n/*横向盒子*/\\n@keyframes picScale {\\n0% {\\n    -webkit-transform: scale(1.01);\\n    -moz-transform: scale(1.01);\\n    -ms-transform: scale(1.01);\\n    -o-transform: scale(1.01);\\n    transform: scale(1.01);\\n}\\n100% {\\n    -webkit-transform: scale(1.15);\\n    -moz-transform: scale(1.15);\\n    -ms-transform: scale(1.15);\\n    -o-transform: scale(1.15);\\n    transform: scale(1.15);\\n    opacity: .86;\\n}\\n}\\n.onClass[data-v-bd0a5754] {\\n  /*position: relative;*/\\n  width: 100%;\\n}\\n.onClass-infoBar[data-v-bd0a5754] {\\n    width: 100%;\\n    z-index: 1000;\\n    position: fixed;\\n    height: 20px;\\n    background: #fff198;\\n}\\n.onClass-infoBar p[data-v-bd0a5754] {\\n      text-align: center;\\n      font-size: 14px;\\n      color: #d0aa17;\\n}\\n.onClass-infoBar img[data-v-bd0a5754] {\\n      cursor: pointer;\\n      width: 14px;\\n      height: 14px;\\n      top: 3px;\\n      position: absolute;\\n      right: 10px;\\n}\\n.onClass-main[data-v-bd0a5754] {\\n    display: flex;\\n    flex-flow: row nowrap;\\n    height: 90vh;\\n    /*For xs Screen*/\\n}\\n.onClass-main-box[data-v-bd0a5754] {\\n      position: relative;\\n      height: 100%;\\n      z-index: 0;\\n      /*background-color: #b3b3b3;*/\\n      background: #ffffff;\\n      width: 80%;\\n}\\n.onClass-main-video[data-v-bd0a5754] {\\n      box-sizing: border-box;\\n      padding: 20px 15px 0 15px;\\n      width: 20%;\\n      height: 90%;\\n      background: #f5f5f5;\\n      display: flex;\\n      flex-flow: column;\\n      align-items: center;\\n      /*for minScreen*/\\n      /*For fullScreen*/\\n}\\n.onClass-main-video-item[data-v-bd0a5754] {\\n        position: relative;\\n        background: rgba(0, 0, 0, 0.8);\\n        margin-bottom: 40px;\\n        overflow: hidden;\\n}\\n.onClass-main-video-item .videoBox[data-v-bd0a5754] {\\n          width: 100%;\\n          height: 100%;\\n}\\n.onClass-main-video-item .videoBox-word[data-v-bd0a5754] {\\n            margin-top: -140px;\\n            text-align: center;\\n            font-size: 12px;\\n            color: #969696;\\n}\\n.onClass-main-video-item .signalBar[data-v-bd0a5754] {\\n          padding-top: 3px;\\n          padding-left: 10px;\\n          background: rgba(0, 0, 0, 0.5);\\n          position: absolute;\\n          bottom: 0;\\n          font-size: 12px;\\n          color: #f5f5f5;\\n}\\n.onClass-main-video-item .signalBar img[data-v-bd0a5754] {\\n            margin-top: 2px;\\n            margin-left: 4px;\\n            height: 14px;\\n}\\n@media screen and (max-width: 1140px) {\\n.onClass-main-video-item[data-v-bd0a5754] {\\n          width: 148px;\\n          height: 200px;\\n}\\n.onClass-main-video .signalBar[data-v-bd0a5754] {\\n          width: 148px;\\n          height: 24px;\\n}\\n}\\n@media screen and (min-width: 1140px) {\\n.onClass-main-video-item[data-v-bd0a5754] {\\n          width: 238px;\\n          height: 250px;\\n}\\n.onClass-main-video .signalBar[data-v-bd0a5754] {\\n          width: 100%;\\n          height: 24px;\\n}\\n}\\n@media screen and (max-width: 800px) {\\n.onClass-main-box[data-v-bd0a5754] {\\n        width: 100%;\\n}\\n.onClass-main-video[data-v-bd0a5754] {\\n        display: none;\\n}\\n}\\n.video_clsBtn[data-v-bd0a5754] {\\n  cursor: pointer;\\n  right: 6px;\\n  top: 6px;\\n  position: absolute;\\n  width: 16px;\\n  height: 16px;\\n}\\n.toolBar[data-v-bd0a5754] {\\n  bottom: 0;\\n  position: fixed !important;\\n}\\n#localCanvas[data-v-bd0a5754] {\\n  z-index: 1;\\n  top: 0;\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n}\\n#remoteCanvas[data-v-bd0a5754] {\\n  top: 0;\\n  z-index: 0;\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n}\\n#imgBox[data-v-bd0a5754] {\\n  top: 0;\\n  z-index: -1;\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n}\\n#imgBox img[data-v-bd0a5754] {\\n    width: 100%;\\n    height: 100%;\\n}\\n#mask[data-v-bd0a5754] {\\n  top: 0;\\n  position: absolute;\\n  z-index: 1;\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  flex-flow: nowrap column;\\n  justify-content: center;\\n  align-items: center;\\n  background: rgba(0, 0, 0, 0.4);\\n}\\n#mask .btn[data-v-bd0a5754] {\\n    position: absolute;\\n    z-index: 2;\\n}\\n.videoMask[data-v-bd0a5754] {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  background: #36393d;\\n  display: flex;\\n  flex-flow: nowrap column;\\n  justify-content: center;\\n  align-items: center;\\n  font-size: 12px;\\n  color: #969696;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.0.28.4@css-loader!./~/.11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-bd0a5754\",\"scoped\":true,\"hasInlineConfig\":false}!./~/.6.0.6@sass-loader/lib/loader.js!./~/.11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/class/onClass.vue\n// module id = 222\n// module chunks = 1","\n/* styles */\nrequire(\"!!vue-style-loader!css-loader!../../../node_modules/.11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-3f5fff42\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader!../../../node_modules/.11.3.4@vue-loader/lib/selector?type=styles&index=0!./toolsBar.vue\")\n\nvar Component = require(\"!../../../node_modules/.11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/.11.3.4@vue-loader/lib/selector?type=script&index=0!./toolsBar.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/.11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3f5fff42\\\"}!../../../node_modules/.11.3.4@vue-loader/lib/selector?type=template&index=0!./toolsBar.vue\"),\n  /* scopeId */\n  \"data-v-3f5fff42\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/bars/toolsBar.vue\n// module id = 227\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"toolsBar\"\n  }, [_c('div', {\n    staticClass: \"toolsBar-time\"\n  }, [(!_vm.isCounting) ? _c('p', [_vm._v(\"00:00/55:00\")]) : _vm._e(), _vm._v(\" \"), (_vm.isCounting) ? _c('p', [_vm._v(_vm._s(_vm.countMin <= 9 ? '0' + _vm.countMin : _vm.countMin) + \":\" + _vm._s(_vm.countSec <= 9 ? '0' + _vm.countSec : _vm.countSec) + \"/55:00\")]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"toolsBar-offClass\"\n  }, [_c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/offClass.png\"),\n      \"alt\": \"\"\n    },\n    on: {\n      \"click\": _vm.offClass\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"toolsBar-toolBtn\"\n  }, [_c('div', {\n    staticClass: \"toolsBar-toolBtn-item\"\n  }, [(_vm.isShowColor) ? _c('div', {\n    staticClass: \"toBox\"\n  }, [(!_vm.pickBool[0]) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/red.png\"),\n      \"alt\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.pickColor(0)\n      }\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.pickBool[0]) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/red_picked.png\"),\n      \"alt\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.pickColor(0)\n      }\n    }\n  }) : _vm._e(), _vm._v(\" \"), (!_vm.pickBool[2]) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/blue.png\"),\n      \"alt\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.pickColor(2)\n      }\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.pickBool[2]) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/blue_picked.png\"),\n      \"alt\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.pickColor(2)\n      }\n    }\n  }) : _vm._e(), _vm._v(\" \"), (!_vm.pickBool[1]) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/black.png\"),\n      \"alt\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.pickColor(1)\n      }\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.pickBool[1]) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/black_picked.png\"),\n      \"alt\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.pickColor(1)\n      }\n    }\n  }) : _vm._e()]) : _vm._e(), _vm._v(\" \"), _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/color.png\"),\n      \"alt\": \"\"\n    },\n    on: {\n      \"click\": _vm.showColor\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"toolsBar-toolBtn-item\"\n  }, [(_vm.isShowLine) ? _c('div', {\n    staticClass: \"toBox\"\n  }, [(!_vm.pickBool2[0]) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/lg.png\"),\n      \"alt\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.pickLine(0)\n      }\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.pickBool2[0]) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/lg_picked.png\"),\n      \"alt\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.pickLine(0)\n      }\n    }\n  }) : _vm._e(), _vm._v(\" \"), (!_vm.pickBool2[1]) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/mid.png\"),\n      \"alt\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.pickLine(1)\n      }\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.pickBool2[1]) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/mid_picked.png\"),\n      \"alt\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.pickLine(1)\n      }\n    }\n  }) : _vm._e(), _vm._v(\" \"), (!_vm.pickBool2[2]) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/xs.png\"),\n      \"alt\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.pickLine(2)\n      }\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.pickBool2[2]) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/xs_picked.png\"),\n      \"alt\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.pickLine(2)\n      }\n    }\n  }) : _vm._e()]) : _vm._e(), _vm._v(\" \"), _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/line.png\"),\n      \"alt\": \"\"\n    },\n    on: {\n      \"click\": _vm.showLine\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"toolsBar-toolBtn-item\",\n    class: {\n      isUseEraser: _vm.isUseEraser\n    }\n  }, [_c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/clear.png\"),\n      \"alt\": \"\"\n    },\n    on: {\n      \"click\": _vm.useEraser\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"toolsBar-toolBtn-item\"\n  }, [_c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/delete.png\"),\n      \"alt\": \"\"\n    },\n    on: {\n      \"click\": _vm.clearCanvas\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"toolsBar-pager\"\n  }, [(_vm.nowPage === 1) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/left.png\"),\n      \"alt\": \"\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.nowPage != 1) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/left_l.png\"),\n      \"alt\": \"\"\n    },\n    on: {\n      \"click\": _vm.back\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('p', [_vm._v(_vm._s(_vm.nowPage) + \"/\" + _vm._s(_vm.allPage))]), _vm._v(\" \"), (_vm.nowPage === _vm.allPage) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/right.png\"),\n      \"alt\": \"\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.nowPage != _vm.allPage) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/right_l.png\"),\n      \"alt\": \"\"\n    },\n    on: {\n      \"click\": _vm.forward\n    }\n  }) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"toolsBar-addPaper\",\n    on: {\n      \"click\": _vm.addNewPage\n    }\n  }, [_c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/addNew.png\"),\n      \"alt\": \"\"\n    }\n  })]), _vm._v(\" \"), _c('p', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (false),\n      expression: \"false\"\n    }]\n  }, [_vm._v(_vm._s(_vm.counting))])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-3f5fff42\"}!./~/.11.3.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/bars/toolsBar.vue\n// module id = 236\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"onClass\"\n  }, [(_vm.isShowMtBar) ? _c('div', {\n    staticClass: \"onClass-infoBar\"\n  }, [_c('p', [_vm._v(\"距离开课还有\" + _vm._s(_vm.gapTime2) + \"分钟\")]), _vm._v(\" \"), _c('p', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (false),\n      expression: \"false\"\n    }]\n  }, [_vm._v(_vm._s(_vm.gapTime))]), _vm._v(\" \"), _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/closeBtn.png\"),\n      \"alt\": \"\"\n    },\n    on: {\n      \"click\": _vm._showMtBar\n    }\n  })]) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"onClass-main\"\n  }, [_c('div', {\n    staticClass: \"onClass-main-box\"\n  }, [_c('canvas', {\n    attrs: {\n      \"id\": \"localCanvas\"\n    }\n  }), _vm._v(\" \"), _c('canvas', {\n    attrs: {\n      \"id\": \"remoteCanvas\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"imgBox\"\n    }\n  }, [_c('img', {\n    attrs: {\n      \"src\": _vm.images[_vm.pageCount],\n      \"alt\": \"\"\n    }\n  })]), _vm._v(\" \"), (!_vm.isOnClass) ? _c('div', {\n    attrs: {\n      \"id\": \"mask\"\n    }\n  }, [_c('div', {\n    staticClass: \"btn\"\n  }, [_c('basic-btn', {\n    attrs: {\n      \"title\": '上课',\n      \"styles\": 'orange'\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.onClass($event)\n      }\n    }\n  })], 1)]) : _vm._e()]), _vm._v(\" \"), _c('div', {\n    staticClass: \"onClass-main-video\"\n  }, [_c('div', {\n    staticClass: \"onClass-main-video-item\"\n  }, [_c('div', {\n    staticClass: \"videoBox\"\n  }, [(!_vm.isShowStudentVideo) ? _c('div', {\n    staticClass: \"videoMask\"\n  }, [_c('p', [_vm._v(\"已关闭，点击右上角打开\")])]) : _vm._e(), _vm._v(\" \"), _c('video', {\n    attrs: {\n      \"autoplay\": \"autoplay\",\n      \"src\": _vm.remoteVideoURL,\n      \"width\": \"238\",\n      \"height\": \"250\",\n      \"id\": \"remoteVideoURL\"\n    }\n  }), _vm._v(\" \"), (_vm.isShowStudentVideo) ? _c('img', {\n    staticClass: \"video_clsBtn\",\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/closeBtn.png\"),\n      \"alt\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.closeVideo(0)\n      }\n    }\n  }) : _vm._e(), _vm._v(\" \"), (!_vm.isShowStudentVideo) ? _c('img', {\n    staticClass: \"video_clsBtn\",\n    attrs: {\n      \"src\": require(\"../../../static/icons/add_circle.png\"),\n      \"alt\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.closeVideo(-1)\n      }\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('p', {\n    staticClass: \"videoBox-word\"\n  }, [_vm._v(\"无信号\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"signalBar\"\n  }, [_c('span', [_vm._v(_vm._s(_vm.studentName))]), _vm._v(\" \"), (_vm.signal1 === 1 || _vm.signal1 === 0) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/s1.png\"),\n      \"alt\": \"\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.signal1 === 2) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/s2.png\"),\n      \"alt\": \"\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.signal1 === 3) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/s3.png\"),\n      \"alt\": \"\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.signal1 === 4) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/s4.png\"),\n      \"alt\": \"\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.signal1 === 5) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/s5.png\"),\n      \"alt\": \"\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.signal1 >= 6) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/s6.png\"),\n      \"alt\": \"\"\n    }\n  }) : _vm._e()])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"onClass-main-video-item\"\n  }, [_c('div', {\n    staticClass: \"videoBox\"\n  }, [(!_vm.isShowTeacherVideo) ? _c('div', {\n    staticClass: \"videoMask\"\n  }, [_c('p', [_vm._v(\"已关闭，点击右上角打开\")])]) : _vm._e(), _vm._v(\" \"), _c('video', {\n    attrs: {\n      \"autoplay\": \"autoplay\",\n      \"muted\": \"\",\n      \"src\": _vm.localVideoURL,\n      \"width\": \"238\",\n      \"height\": \"250\",\n      \"id\": \"localVideo\"\n    }\n  }), _vm._v(\" \"), (_vm.isShowTeacherVideo) ? _c('img', {\n    staticClass: \"video_clsBtn\",\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/closeBtn.png\"),\n      \"alt\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.closeVideo(1)\n      }\n    }\n  }) : _vm._e(), _vm._v(\" \"), (!_vm.isShowTeacherVideo) ? _c('img', {\n    staticClass: \"video_clsBtn\",\n    attrs: {\n      \"src\": require(\"../../../static/icons/add_circle.png\"),\n      \"alt\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.closeVideo(2)\n      }\n    }\n  }) : _vm._e(), _vm._v(\" \"), _c('p', {\n    staticClass: \"videoBox-word\"\n  }, [_vm._v(\"无信号\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"signalBar\"\n  }, [_c('span', {\n    on: {\n      \"click\": _vm.test\n    }\n  }, [_vm._v(_vm._s(_vm.teacherName))]), _vm._v(\" \"), (_vm.signal2 === 1 || _vm.signal2 === 0) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/s1.png\"),\n      \"alt\": \"\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.signal2 === 2) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/s2.png\"),\n      \"alt\": \"\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.signal2 === 3) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/s3.png\"),\n      \"alt\": \"\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.signal2 === 4) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/s4.png\"),\n      \"alt\": \"\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.signal2 === 5) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/s5.png\"),\n      \"alt\": \"\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.signal2 >= 6) ? _c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/icons/live/s6.png\"),\n      \"alt\": \"\"\n    }\n  }) : _vm._e()])])])]), _vm._v(\" \"), _c('tool-bar', {\n    staticClass: \"toolBar\",\n    attrs: {\n      \"nowPage\": _vm.nowPage,\n      \"allPage\": _vm.pageNum\n    },\n    on: {\n      \"changeSize\": _vm.changeSize,\n      \"changeColor\": _vm.changeColor,\n      \"useEraser\": _vm.useEraser,\n      \"cancelEraser\": _vm.cancelEraser,\n      \"clearCanvas\": _vm.clearCanvas,\n      \"addNewPage\": _vm.addNewPage,\n      \"offClass\": _vm.offClass,\n      \"backPage\": _vm.backPage,\n      \"forwardPage\": _vm.forwardPage,\n      \"timeUp\": _vm.timeCountDone\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-bd0a5754\"}!./~/.11.3.4@vue-loader/lib/selector.js?type=template&index=0!./src/pages/class/onClass.vue\n// module id = 246\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/.0.28.4@css-loader/index.js!../../../node_modules/.11.3.4@vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-3f5fff42\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/.6.0.6@sass-loader/lib/loader.js!../../../node_modules/.11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./toolsBar.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/.2.0.5@vue-style-loader/lib/addStylesClient.js\")(\"6ca55e61\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.2.0.5@vue-style-loader!./~/.0.28.4@css-loader!./~/.11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-3f5fff42\",\"scoped\":true,\"hasInlineConfig\":false}!./~/.6.0.6@sass-loader/lib/loader.js!./~/.11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./src/components/bars/toolsBar.vue\n// module id = 253\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/.0.28.4@css-loader/index.js!../../../node_modules/.11.3.4@vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-bd0a5754\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/.6.0.6@sass-loader/lib/loader.js!../../../node_modules/.11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./onClass.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/.2.0.5@vue-style-loader/lib/addStylesClient.js\")(\"673a4fb4\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.2.0.5@vue-style-loader!./~/.0.28.4@css-loader!./~/.11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-bd0a5754\",\"scoped\":true,\"hasInlineConfig\":false}!./~/.6.0.6@sass-loader/lib/loader.js!./~/.11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/class/onClass.vue\n// module id = 263\n// module chunks = 1","var WebRTC = function(role) {\n    var PeerConnection = (window.PeerConnection || window.webkitPeerConnection00 || window.webkitRTCPeerConnection || window.mozRTCPeerConnection),\n\n    URL = (window.URL || window.webkitURL || window.msURL || window.oURL),\n\n    getUserMedia = (navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia || navigator.mediaDevices.getUserMedia),\n\n    nativeRTCIceCandidate = (window.mozRTCIceCandidate || window.RTCIceCandidate),\n\n    nativeRTCSessionDescription = (window.mozRTCSessionDescription || window.RTCSessionDescription), // order is very important: \"RTCSessionDescription\" defined in Nighly but useless\n\n    moz = !!navigator.mozGetUserMedia,\n\n    // websocketServer = \"ws://\" + window.sessionStorage.getItem('temp_host') + \"/media/websocket/ws\",\n    // websocketServer = \"ws://localhost:2048/media/websocket/ws\",\n    // websocketServer = \"ws://124.251.0.199:10002/media/websocket/ws\", // 测试环境\n    websocketServer = \"ws://124.251.0.199:10001/media/websocket/ws\", // 正式环境\n\n    packetSize = 100,\n    \n    iceServer = {\n        \"iceServers\": [{\n            urls: \"turn:58.83.148.247\",\n            username: \"coturn\",\n            credential: \"ppnn13fish\",\n            credentialType: \"password\"\n        }, {\n            urls:\"stun:58.83.148.247:3478\"\n        }, {\n            urls:\"stun:stun.58.83.148.247:3478\",\n            username: \"coturn\",\n            credential: \"ppnn13fish\",\n            credentialType: \"password\"\n        }], mandatory: {\n            OfferToReceiveAudio: true,\n            OfferToReceiveVideo: true\n        }, optional: {\n            DtlsSrtpKeyAgreement : true\n        }\n    };\n\n    function EventEmitter() {\n        this.events = {};\n        this.onceEvents = {};\n    } // define Class\n\n    EventEmitter.prototype.on = function(eventName, callback) {\n        this.events[eventName] = this.events[eventName] || [];\n        this.events[eventName].push(callback);\n    } // define Methods\n    EventEmitter.prototype.once = function(eventName, callback) {\n        this.on(eventName, callback);\n        this.onceEvents[eventName] = true;\n    } // define Methods\n    EventEmitter.prototype.emit = function(eventName, _) {\n        var events = this.events[eventName],\n            args = Array.prototype.slice.call(arguments, 1),\n            i, m;\n\n        if (!events) {\n            return;\n        }\n        for (i = 0, m = events.length; i < m; i++) {\n            events[i].apply(null, args);\n        }\n        if(this.onceEvents[eventName]){\n            delete this.events[eventName];\n            delete this.onceEvents[eventName];\n        }\n    } // define Methods\n    function webrtc(role) {\n        this.uid = null;\n        this.key = null;\n        this.me = null;\n        this.role = role;\n        this.localMediaStream = null;\n        this.room = null;\n        this.websocket = null;\n        //connectionId和PeerConnection之间的关系\n        this.peerConnections = {};\n        //connectionId，存放同频道的所有连接的数组\n        this.connections = [];\n    } // define Class\n\n    webrtc.prototype = new EventEmitter(); // 继承事件发射器\n\n    webrtc.prototype.connect = function(room, uid, key) {\n        var that = this,\n        websocket;\n        this.room = this.room || room;\n        this.uid = this.uid || uid;\n        this.key = this.key || key;\n        var url = websocketServer + \"?room=\" + this.room + \"&uid=\" + this.uid + \"&key=\" + this.key;\n        this.websocket && this.websocket.close();\n        console.log('新建webcoket');\n        websocket = this.websocket = new WebSocket(url);// 建立ws连接\n        websocket.onopen = function() {\n            join(); // 给后台发送数据\n            that.emit(\"socket_opened\", websocket); // 发送连接开启信号\n        };\n\n        websocket.onmessage = function(message) {\n            var json = JSON.parse(message.data); // 拿到通信的数据\n            if (json.cmd) {\n                that.emit(json.cmd, json.data); //如果是命令 则发射相关执行信号和数据\n            } else {\n                that.emit(\"socket_receive_message\", websocket, json);  // 如果是message 则发射\n            }\n        };\n\n        websocket.onerror = function(error) {\n            this.close(); // 连接错误则关闭\n            that.websocket = null;\n            that.emit(\"socket_err\", error);\n            that.emit(\"socket_error\", error, websocket);\n\n        };\n\n        websocket.onclose = function(data) {\n            console.log(\"Websocket connection is closed\", data);\n\n            that.emit('socket_closed', websocket); // 发射关闭信号\n        };\n        function join(){\n            websocket.send(JSON.stringify({\n                \"cmd\": \"__join\",\n                \"data\": {\n                    \"room\": that.room\n                }\n            }));\n            that.closeSource();\n        }\n\n    };\n    \n    webrtc.prototype.initEvents = function(){\n        var that = this;\n        this.on(\"_ice_candidate\", function(data) {\n            mediaReady(function(){\n                var pc = that.peerConnections[data.socketId];\n                pc.addIceCandidate(new nativeRTCIceCandidate(data));\n            });\n        });\n\n        this.on('_peers', function(data) {\n            that.connections = data.connections;\n            that.me = data.you;\n            that.emit(\"peers\", that.connections);\n        });\n        this.on('_new_peer', function(data) {\n            var socketId = data.socketId;\n            that.createPeerConnection(data.socketId);\n            that.sendOffer(socketId);\n            that.connections.push(socketId);\n            that.emit(\"new_peer\", socketId);\n\n        });\n        this.on('_remove_peer', function(data) {\n            that.closePeerConnection(data.socketId);\n            that.emit(\"remove_peer\", data.socketId);\n        });\n\n        this.on('_offer', function(data) {\n            var socketId = data.socketId;\n            mediaReady(function(){\n                that.createPeerConnection(socketId);\n                that.sendAnswer(socketId, data.sdp);\n            })\n            that.emit(\"offer\", data);\n        });\n\n        this.on('_answer', function(data) {\n            var pc = that.peerConnections[data.socketId];\n            console.log('接受到answer');\n            pc.setRemoteDescription(new nativeRTCSessionDescription(data.sdp));\n            that.emit('answer', data);\n        });\n\n        function mediaReady(fn){\n            if(typeof fn !== 'function'){\n                return ;\n            }\n            if(that.localMediaStream){\n                fn();\n                return;\n            }\n            that.once('ready', function(data) {\n                fn();\n            });\n        }\n        return this;\n    } // 初始化事件监听\n\n    webrtc.prototype.sendOffer = function(socketId) {\n        var that = this,\n        pc = that.peerConnections[socketId];\n        pc.createOffer(function(session_desc) {\n            console.log(\"createOffer\", session_desc);\n            pc.setLocalDescription(session_desc, function(){ // 本地保存描述\n                console.log('offer设置本地desc描述成功');\n            }, function(err){\n                console.log('offer设置本地desc描述失败', err);\n            });\n            that.websocket.send(JSON.stringify({\n                \"cmd\": \"__offer\",\n                \"data\": {\n                    \"sdp\": session_desc,\n                    \"socketId\": socketId\n                }\n            }));\n        }, function(error) {\n            console.log(error);\n        });\n    } // 发送offer\n  \n    webrtc.prototype.sendAnswer = function(socketId, sdp) {\n        var pc = this.peerConnections[socketId],\n        that = this;\n        console.log('将要发送answer');\n        pc.setRemoteDescription(new nativeRTCSessionDescription(sdp), function(){\n            console.log('offer设置远程desc描述成功'); // sdp来自远程\n        }, function(err){\n            console.log('offer设置远程desc描述失败', err);\n        });\n        pc.createAnswer(function(session_desc) {\n            pc.setLocalDescription(session_desc, function(){\n            }, function(){\n              console.log('sendAnswer setLocalDescription error');\n            });\n            that.websocket.send(JSON.stringify({\n                \"cmd\": \"__answer\",\n                \"data\": {\n                    \"socketId\": socketId,\n                    \"sdp\": session_desc // 让服务器发送回答信令\n                }\n            }));\n        }, function(error) {\n            console.log(error);\n        });\n    };\n    \n    webrtc.prototype.createLocalStream = function(options) {\n        var that = this;\n        if (getUserMedia) {\n            getUserMedia.call(navigator, options, function(stream){\n                that.localMediaStream = stream;\n                that.emit(\"stream_created\", {\n                    stream : that.localMediaStream\n                });\n                that.emit('ready');\n            }, function(err){\n                console.log(\"create Stream fail\", err);\n                that.emit(\"stream_create_error\", err);\n            });\n        } else {\n            console.log(\"fail\");\n            that.emit(\"stream_create_error\", new Error(\"WebRTC is not supported in this browser.\"));\n        }\n    }\n    \n    webrtc.prototype.attachStream = function(stream, domId) {\n        var element = document.getElementById(domId);\n        if (navigator.mozGetUserMedia) {\n            element.mozSrcObject = stream;\n            element.play();\n        } else {\n            element.src = URL.createObjectURL(stream);\n        }\n    }\n    \n    webrtc.prototype.removeStream = function(domId) {\n        var element = document.getElementById(domId);\n        if (navigator.mozGetUserMedia) {\n            element.mozSrcObject = null;\n        } else {\n            URL.revokeObjectURL(element.src);\n        }\n    }\n    \n    webrtc.prototype.createPeerConnection = function(socketId) {\n        var that = this,\n        pc;\n        this.peerConnections[socketId] = pc = new PeerConnection(iceServer);\n        pc.onicecandidate = function(evt) {\n            if (evt.candidate) {\n                that.websocket.send(JSON.stringify({\n                    \"cmd\": \"__ice_candidate\",\n                    \"data\": {\n                        \"label\": evt.candidate.sdpMLineIndex,\n                        \"candidate\": evt.candidate.candidate,\n                        \"socketId\": socketId\n                    }\n                }));\n            }\n        };\n        pc.onopen = function(evt) {\n            that.emit(\"pc_opened\", evt);\n        };\n        pc.onaddstream = function(evt) {\n            that.emit('peer_stream', evt);\n        };\n        pc.onnegotiationneeded = function(evt){\n            console.log('stream_needed');\n            that.emit('stream_needed', evt);\n        }\n        pc.onremovestream = function(evt) {\n            console.log('remove_stream');\n            that.emit('remove_stream', evt);\n        };\n        pc.ondatachannel = function(evt) {\n            console.log('pc_add_data_channel');\n            that.emit('pc_add_data_channel', evt);\n        };\n        pc.onsignalingstatechange = function(evt){\n            console.log('pc_signaling_change');\n            that.emit('pc_signaling_change', {\n                target : evt,\n                stream : pc.signalingState\n            });\n        }\n        pc.oniceconnectionstatechange = function(evt) {\n            console.log('pc_ice_connections_change');\n            that.emit('pc_ice_connections_change', {\n                target : evt,\n                stream : pc.connectionState\n            });\n        };\n        pc.onicegatheringstatechange = function(evt) {\n            console.log('pc_ice_gathering_change');\n            that.emit('pc_ice_gathering_change', {\n                target : evt,\n                stream : pc.iceGatheringState\n            });\n        };\n        pc.addStream(this.localMediaStream);\n        pc.createDataChannel('');\n        return pc;\n    }\n    \n    webrtc.prototype.closePeerConnection = function(socketId){\n        var pc;\n        if(pc = this.peerConnections[socketId]){\n            pc.close();\n            delete this.peerConnections[socketId];\n            this.connections.splice(this.connections.indexOf(socketId), 1);\n        }\n    }\n    \n    webrtc.prototype.closePeerConnections = function(){\n        var that = this;\n        this.connections.forEach(function(socketId){\n            that.closePeerConnection(socketId);\n        });\n    }\n    \n    webrtc.prototype.closeSource = function(){\n        this.localMediaStream && (this.localMediaStream = null);\n        this.closePeerConnections();\n    }\n    \n    webrtc.prototype.removeVideoTrack = function(stream){\n        var that = this;\n        try{\n            removeStream();\n        }catch(e){\n            console.error(e);\n        }\n        function removeStream(){\n            var videoStream = stream.getVideoTracks()[0];\n            stream.removeTrack(videoStream);\n            for(var id in that.peerConnections){\n                var pc = that.peerConnections[id];\n                pc.removeStream(stream);\n                pc.addStream(stream);\n            }\n        }\n    }\n    \n    webrtc.prototype.addVideoTrack = function(stream, videoStream){\n        var that = this;\n        try{\n            addStream();\n        }catch(e){\n            console.error(e);\n        }\n        function addStream(){\n            stream.addTrack(videoStream);\n            for(var id in that.peerConnections){\n                var pc = that.peerConnections[id];\n                pc.removeStream(stream);\n                pc.addStream(stream);\n            }\n        }\n    }\n\n    return new webrtc(role).initEvents();\n}\n\nexport default WebRTC\n\n\n// WEBPACK FOOTER //\n// ./js/webrtc.js","<template>\n\t<div class=\"toolsBar\">\n\t\t<div class=\"toolsBar-time\">\n\t\t\t<p v-if=\"!isCounting\">00:00/55:00</p>\n\t\t\t<p v-if=\"isCounting\">{{countMin<=9?'0'+countMin:countMin}}:{{countSec<=9?'0'+countSec:countSec}}/55:00</p>\n\t\t</div>\n\t\t<div class=\"toolsBar-offClass\">\n\t\t\t<img src=\"../../../static/icons/live/offClass.png\" alt=\"\" @click=\"offClass\">\n\t\t</div>\n\t\t<div class=\"toolsBar-toolBtn\">\n\t\t\t<div class=\"toolsBar-toolBtn-item\">\n\t\t\t\t<div class=\"toBox\" v-if=\"isShowColor\">\n\t\t\t\t\t<img src=\"../../../static/icons/live/red.png\" alt=\"\" v-if=\"!pickBool[0]\" @click=\"pickColor(0)\">\n\t\t\t\t\t<img src=\"../../../static/icons/live/red_picked.png\" v-if=\"pickBool[0]\" alt=\"\"\n\t\t\t\t\t\t @click=\"pickColor(0)\">\n\t\t\t\t\t<img src=\"../../../static/icons/live/blue.png\" alt=\"\" v-if=\"!pickBool[2]\" @click=\"pickColor(2)\">\n\t\t\t\t\t<img src=\"../../../static/icons/live/blue_picked.png\" alt=\"\" v-if=\"pickBool[2]\"\n\t\t\t\t\t\t @click=\"pickColor(2)\">\n\t\t\t\t\t<img src=\"../../../static/icons/live/black.png\" alt=\"\" v-if=\"!pickBool[1]\" @click=\"pickColor(1)\">\n\t\t\t\t\t<img src=\"../../../static/icons/live/black_picked.png\" alt=\"\" v-if=\"pickBool[1]\"\n\t\t\t\t\t\t @click=\"pickColor(1)\">\n\t\t\t\t</div>\n\t\t\t\t<img src=\"../../../static/icons/live/color.png\" alt=\"\" @click=\"showColor\">\n\t\t\t</div>\n\t\t\t<div class=\"toolsBar-toolBtn-item\">\n\t\t\t\t<div class=\"toBox\" v-if=\"isShowLine\">\n\t\t\t\t\t<img src=\"../../../static/icons/live/lg.png\" alt=\"\" v-if=\"!pickBool2[0]\" @click=\"pickLine(0)\">\n\t\t\t\t\t<img src=\"../../../static/icons/live/lg_picked.png\" alt=\"\" v-if=\"pickBool2[0]\" @click=\"pickLine(0)\">\n\t\t\t\t\t<img src=\"../../../static/icons/live/mid.png\" alt=\"\" v-if=\"!pickBool2[1]\" @click=\"pickLine(1)\">\n\t\t\t\t\t<img src=\"../../../static/icons/live/mid_picked.png\" alt=\"\" v-if=\"pickBool2[1]\"\n\t\t\t\t\t\t @click=\"pickLine(1)\">\n\t\t\t\t\t<img src=\"../../../static/icons/live/xs.png\" alt=\"\" v-if=\"!pickBool2[2]\" @click=\"pickLine(2)\">\n\t\t\t\t\t<img src=\"../../../static/icons/live/xs_picked.png\" alt=\"\" v-if=\"pickBool2[2]\" @click=\"pickLine(2)\">\n\t\t\t\t</div>\n\t\t\t\t<img src=\"../../../static/icons/live/line.png\" alt=\"\" @click=\"showLine\">\n\t\t\t</div>\n\t\t\t<div class=\"toolsBar-toolBtn-item\" :class=\"{isUseEraser:isUseEraser}\">\n\t\t\t\t<img src=\"../../../static/icons/live/clear.png\" alt=\"\" @click=\"useEraser\">\n\t\t\t</div>\n\t\t\t<div class=\"toolsBar-toolBtn-item\">\n\t\t\t\t<img src=\"../../../static/icons/live/delete.png\" alt=\"\" @click=\"clearCanvas\">\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"toolsBar-pager\">\n\t\t\t<img src=\"../../../static/icons/live/left.png\" alt=\"\" v-if=\"nowPage === 1\">\n\t\t\t<img src=\"../../../static/icons/live/left_l.png\" alt=\"\" v-if=\"nowPage != 1\" @click=\"back\">\n\t\t\t<p>{{nowPage}}/{{allPage}}</p>\n\t\t\t<img src=\"../../../static/icons/live/right.png\" alt=\"\" v-if=\"nowPage === allPage\">\n\t\t\t<img src=\"../../../static/icons/live/right_l.png\" alt=\"\" v-if=\"nowPage != allPage\" @click=\"forward\">\n\t\t</div>\n\t\t<div class=\"toolsBar-addPaper\" @click=\"addNewPage\">\n\t\t\t<img src=\"../../../static/icons/live/addNew.png\" alt=\"\">\n\t\t</div>\n\t\t<p v-show=\"false\">{{counting}}</p>\n\t</div>\n</template>\n\n<script>\n\timport {countFn} from '../../common/scripts/util'\n\t// 0红 1黑 2蓝 0粗 1中 2细\n\texport default {\n\t\tname: \"\",\n\t\tcomponents: {},\n\t\tdata () {\n\t\t\treturn {\n//\t\t\t\tnowPage: 1,\n//\t\t\t\tallPage: 1,\n\t\t\t\tisUseEraser: false,\n\t\t\t\tisShowColor: false,\n\t\t\t\tisShowLine: false,\n\t\t\t\tpickBool: [0, 0, 0],\n\t\t\t\tpickBool2: [0, 0, 0],\n\t\t\t\tisPickLine: false,\n\t\t\t\tisCounting: false,\n\t\t\t\tcountMin: 0,\n\t\t\t\tcountSec: 0\n\t\t\t}\n\t\t},\n\t\tprops: {\n\t\t\tnowPage: {\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: () => {\n\t\t\t\t\treturn 1\n\t\t\t\t}\n\t\t\t},\n\t\t\tallPage: {\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: () => {\n\t\t\t\t\treturn 1\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tcomputed: {\n\t\t\tcounting: {\n\t\t\t\tget (){\n\t\t\t\t\tif (this.$store.state.isCountingTime) {\n\t\t\t\t\t\tthis.countTime()\n\t\t\t\t\t}\n\t\t\t\t\treturn this.$store.state.isCountingTime\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcreated () {\n\t\t},\n\t\tmounted () {\n\n\t\t},\n\t\tmethods: {\n\t\t\t_clearStatus(){\n\t\t\t\tthis.isShowLine = false\n\t\t\t\tthis.isShowColor = false\n\t\t\t},\n\t\t\tback(){\n\t\t\t\tif (this.nowPage != 1) {\n\t\t\t\t\tthis.$emit('backPage')\n\t\t\t\t}\n\t\t\t},\n\t\t\tforward () {\n\t\t\t\tif (this.nowPage != this.allPage) {\n\t\t\t\t\tthis.$emit('forwardPage')\n\t\t\t\t}\n\t\t\t},\n\t\t\taddNewPage(){\n//\t\t\t\tthis.allPage++\n\t\t\t\tthis.$emit('addNewPage')\n\t\t\t},\n\t\t\tshowColor(){\n\t\t\t\tthis.isShowLine = false\n\t\t\t\tthis.isShowColor = !this.isShowColor\n\t\t\t},\n\t\t\tshowLine(){\n\t\t\t\tthis.isShowColor = false\n\t\t\t\tthis.isShowLine = !this.isShowLine\n\t\t\t},\n\t\t\tpickColor(code){\n\t\t\t\tfor (let i in this.pickBool) {\n\t\t\t\t\tthis.pickBool.splice(i, 1, 0)\n\t\t\t\t}\n\t\t\t\tthis.pickBool.splice(code, 1, 1)\n\t\t\t\tthis.isShowColor = !this.isShowColor\n\t\t\t\tthis.$emit('changeColor', code)\n\t\t\t},\n\t\t\tpickLine(code){\n\t\t\t\tfor (let i in this.pickBool) {\n\t\t\t\t\tthis.pickBool2.splice(i, 1, 0)\n\t\t\t\t}\n\t\t\t\tthis.pickBool2.splice(code, 1, 1)\n\t\t\t\tthis.isShowLine = !this.isShowLine\n\t\t\t\tthis.$emit('changeSize', code)\n\t\t\t},\n\t\t\tuseEraser (){\n\t\t\t\tthis._clearStatus()\n\t\t\t\tif (this.isUseEraser) {\n\t\t\t\t\tthis.$emit('cancelEraser')\n\t\t\t\t\tthis.isUseEraser = false\n\t\t\t\t} else {\n\t\t\t\t\tthis.$emit('useEraser')\n\t\t\t\t\tthis.isUseEraser = true\n\t\t\t\t}\n\t\t\t},\n\t\t\tclearCanvas (){\n\t\t\t\tthis._clearStatus()\n\t\t\t\tthis.$emit('clearCanvas')\n\t\t\t},\n\t\t\toffClass () {\n\t\t\t\tthis.$emit('offClass')\n\t\t\t},\n\t\t\tcountTime(){\n\t\t\t\tthis.isCounting = true\n\t\t\t\tcountFn(55 * 60, 1000, () => {\n\t\t\t\t\tif (this.countSec == 59) {\n\t\t\t\t\t\tthis.countMin++\n\t\t\t\t\t\tthis.countSec = 0\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.countSec++\n\t\t\t\t\t}\n\t\t\t\t}, () => {\n\t\t\t\t\tthis.$emit('timeUp')\n\t\t\t\t})\n\n\t\t\t}\n\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\n\t@import \"../../common/styles/mixin\";\n\n\t.toolsBar {\n\t\tposition: relative;\n\t\t@include rowBox();\n\t\twidth: 100%;\n\t\theight: 30px;\n\t\tbackground: $bar_bg;\n\t\t&-time {\n\t\t\tpadding-top: 2px;\n\t\t\tmargin-left: 10px;\n\t\t\tmargin-right: 20px;\n\t\t\t@include rowMidBox();\n\t\t\t@include fontSizeColor(12px, $bg_wht)\n\t\t}\n\t\t&-offClass {\n\t\t\tcursor: pointer;\n\t\t\t@include rowMidBox();\n\t\t}\n\t\t&-toolBtn {\n\t\t\tright: 42%;\n\n\t\t\tposition: absolute;\n\t\t\t@include rowBox();\n\t\t\t&-item {\n\t\t\t\tposition: relative;\n\t\t\t\t@include allMidBox();\n\t\t\t\twidth: 40px;\n\t\t\t\theight: 30px;\n\t\t\t\timg {\n\t\t\t\t\t@include wh(22px, 22px);\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t}\n\t\t\t}\n\t\t\t&-item:not(:nth-child(3)):hover {\n\t\t\t\tcursor: pointer;\n\t\t\t\ttransition: all ease-in-out .3s;\n\t\t\t\tbackground: $bar_focus;\n\t\t\t}\n\t\t}\n\t\t&-pager {\n\t\t\tposition: absolute;\n\t\t\ttop: 8px;\n\t\t\tright: 100px;\n\t\t\t@include rowMidBox();\n\t\t\tp {\n\t\t\t\ttext-align: center;\n\t\t\t\t@include fontSizeColor(12px, $bg_wht);\n\t\t\t\twidth: 40px;\n\t\t\t}\n\t\t\timg {\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\t\t}\n\t\t&-addPaper {\n\t\t\timg {\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\t\t\ttop: 4px;\n\t\t\tright: 20px;\n\t\t\tposition: absolute;\n\t\t}\n\t}\n\n\t.toBox {\n\t\tposition: absolute;\n\t\tz-index: 10;\n\t\tdisplay: flex;\n\t\tflex-flow: column nowrap;\n\t\talign-items: center;\n\t\theight: 140px;\n\t\twidth: 35px;\n\t\tbackground: $bg_wht;\n\t\tbottom: 30px;\n\t\timg {\n\t\t\tcursor: pointer;\n\t\t\tmargin-top: 15px;\n\t\t\t@include wh(27px, 27px)\n\t\t}\n\t}\n\n\t.isUseEraser {\n\t\tbackground: #b3b3b3;\n\t}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// toolsBar.vue?67667d06","<template>\n\t<div class=\"onClass\">\n\t\t<div class=\"onClass-infoBar\" v-if=\"isShowMtBar\">\n\t\t\t<p>距离开课还有{{gapTime2}}分钟</p>\n\t\t\t<p v-show=\"false\">{{gapTime}}</p>\n\t\t\t<img src=\"../../../static/icons/live/closeBtn.png\" alt=\"\" @click=\"_showMtBar\">\n\t\t</div>\n\t\t<div class=\"onClass-main\">\n\t\t\t<div class=\"onClass-main-box\">\n\t\t\t\t<canvas id=\"localCanvas\"></canvas>\n\t\t\t\t<canvas id=\"remoteCanvas\"></canvas>\n\t\t\t\t<div id=\"imgBox\">\n\t\t\t\t\t<img :src=\"images[pageCount]\" alt=\"\">\n\t\t\t\t</div>\n\t\t\t\t<div id=\"mask\" v-if=\"!isOnClass\">\n\t\t\t\t\t<div class=\"btn\">\n\t\t\t\t\t\t<basic-btn :title=\"'上课'\" :styles=\"'orange'\" @click.native=\"onClass\"></basic-btn>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"onClass-main-video\">\n\t\t\t\t<div class=\"onClass-main-video-item\">\n\t\t\t\t\t<div class=\"videoBox\">\n\t\t\t\t\t\t<div class=\"videoMask\" v-if=\"!isShowStudentVideo\">\n\t\t\t\t\t\t\t<p>已关闭，点击右上角打开</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<video autoplay=\"autoplay\" :src=\"remoteVideoURL\" width=\"238\" height=\"250\" id=\"remoteVideoURL\"></video>\n\t\t\t\t\t\t<img src=\"../../../static/icons/live/closeBtn.png\" alt=\"\" class=\"video_clsBtn\"\n\t\t\t\t\t\t\t @click=\"closeVideo(0)\" v-if=\"isShowStudentVideo\">\n\t\t\t\t\t\t<img src=\"../../../static/icons/add_circle.png\" alt=\"\" class=\"video_clsBtn\"\n\t\t\t\t\t\t\t @click=\"closeVideo(-1)\" v-if=\"!isShowStudentVideo\">\n\t\t\t\t\t\t<p class=\"videoBox-word\">无信号</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"signalBar\">\n\t\t\t\t\t\t<span>{{studentName}}</span>\n\t\t\t\t\t\t<img src=\"../../../static/icons/live/s1.png\" alt=\"\" v-if=\"signal1 === 1||signal1 === 0\">\n\t\t\t\t\t\t<img src=\"../../../static/icons/live/s2.png\" alt=\"\" v-if=\"signal1 === 2\">\n\t\t\t\t\t\t<img src=\"../../../static/icons/live/s3.png\" alt=\"\" v-if=\"signal1 === 3\">\n\t\t\t\t\t\t<img src=\"../../../static/icons/live/s4.png\" alt=\"\" v-if=\"signal1 === 4\">\n\t\t\t\t\t\t<img src=\"../../../static/icons/live/s5.png\" alt=\"\" v-if=\"signal1 === 5\">\n\t\t\t\t\t\t<img src=\"../../../static/icons/live/s6.png\" alt=\"\" v-if=\"signal1 >= 6\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"onClass-main-video-item\">\n\t\t\t\t\t<div class=\"videoBox\">\n\t\t\t\t\t\t<div class=\"videoMask\" v-if=\"!isShowTeacherVideo\">\n\t\t\t\t\t\t\t<p>已关闭，点击右上角打开</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<video autoplay=\"autoplay\" muted :src=\"localVideoURL\" width=\"238\" height=\"250\" id=\"localVideo\"></video>\n\t\t\t\t\t\t<img src=\"../../../static/icons/live/closeBtn.png\" alt=\"\" class=\"video_clsBtn\"\n\t\t\t\t\t\t\t @click=\"closeVideo(1)\" v-if=\"isShowTeacherVideo\">\n\t\t\t\t\t\t<img src=\"../../../static/icons/add_circle.png\" alt=\"\" class=\"video_clsBtn\"\n\t\t\t\t\t\t\t @click=\"closeVideo(2)\" v-if=\"!isShowTeacherVideo\">\n\t\t\t\t\t\t<p class=\"videoBox-word\">无信号</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"signalBar\">\n\n\t\t\t\t\t\t<span @click=\"test\">{{teacherName}}</span>\n\t\t\t\t\t\t<img src=\"../../../static/icons/live/s1.png\" alt=\"\" v-if=\"signal2 === 1 ||signal2 === 0\">\n\t\t\t\t\t\t<img src=\"../../../static/icons/live/s2.png\" alt=\"\" v-if=\"signal2 === 2\">\n\t\t\t\t\t\t<img src=\"../../../static/icons/live/s3.png\" alt=\"\" v-if=\"signal2 === 3\">\n\t\t\t\t\t\t<img src=\"../../../static/icons/live/s4.png\" alt=\"\" v-if=\"signal2 === 4\">\n\t\t\t\t\t\t<img src=\"../../../static/icons/live/s5.png\" alt=\"\" v-if=\"signal2 === 5\">\n\t\t\t\t\t\t<img src=\"../../../static/icons/live/s6.png\" alt=\"\" v-if=\"signal2 >= 6\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<tool-bar class=\"toolBar\" @changeSize=\"changeSize\" @changeColor=\"changeColor\" @useEraser=\"useEraser\"\n\t\t\t\t  @cancelEraser=\"cancelEraser\" @clearCanvas=\"clearCanvas\" @addNewPage=\"addNewPage\"\n\t\t\t\t  @offClass=\"offClass\" :nowPage=\"nowPage\" :allPage=\"pageNum\" @backPage=\"backPage\"\n\t\t\t\t  @forwardPage=\"forwardPage\" @timeUp=\"timeCountDone\" ></tool-bar>\n\t</div>\n</template>\n\n<script>\n\t/*功能\n\t * 1.获取本地视频流并显示出来，记得清除多余的mediaStream\n\t * 2.通过webrtc建立p2p视频通话（ws连接，发送自己的流，接受对面的流） 流包括 音频流 视频流 坐标流(x,y)\n\t * 3. 本地canvas绘图 改变颜色 粗细 并返回实时的坐标(x,y)\n\t * 4. 两张canvas重叠，一张接受对面的坐标，一张绘自己的坐标\n\t * 5. 新增白纸功能,在图片最后一页加入白纸，翻页会翻到图片的下一页，清空当前的绘图数据\n\t * 6.\n\t * 2.*/\n\t\timport toolBar from '../../components/bars/toolsBar.vue'\n\t\timport {XMediaStream} from '../../common/scripts/XmediaStream'\n\t\timport {XAudioBox} from '../../common/scripts/XaudioBox'\n\t\timport {XBoard} from '../../common/scripts/XBoard'\n\t\timport {computeVolume} from '../../common/scripts/util'\n\t\timport  basicBtn from '../../components/buttons/basicButtons.vue'\n\t\timport {\n\t\t\trandomNum, countFn, setMediaStream, getSession, setSession, removeSession, getStore\n\t\t} from '../../common/scripts/util'\n\t\t//\t\timport mediaConnection from '../../../js/media-connection'\n\t\t//\t\timport mediaConnection from '../../common/scripts/mediaConnection'\n\t\timport WebRTC from '../../../js/webrtc'\n\t\texport default {\n\t\t\tname: \"\",\n\t\t\tcomponents: {\n\t\t\t\ttoolBar,\n\t\t\t\tbasicBtn\n\t\t\t},\n\t\t\tdata () {\n\t\t\t\treturn {\n\t\t\t\t\tbeginTime: null,\n\t\t\t\t\tcourseId: null,\n\t\t\t\t\tgapTime2: null,\n\t\t\t\t\tintervalId: null,\n\t\t\t\t\tcoursewareId: null,\n\t\t\t\t\tlessonToken: null,\n\t\t\t\t\tisShowMtBar: true,\n\t\t\t\t\tsignal1: 6,\n\t\t\t\t\tsignal2: 6,\n\t\t\t\t\tlocalVideoURL: '',\n\t\t\t\t\tremoteVideoURL: '',\n\t\t\t\t\tlocalStreamObj: null,\n\t\t\t\t\tremoteStreamObj: null,\n\t\t\t\t\tlocalAudio: {},\n\t\t\t\t\tremoteAudio: {},\n\t\t\t\t\tlocalCanvas: null,\n\t\t\t\t\tremoteCanvas: null,\n\t\t\t\t\tlocalBox: null,\n\t\t\t\t\tremoteBox: null,\n\t\t\t\t\timages: [],\n\t\t\t\t\timagesObj: [],\n\t\t\t\t\tpageCount: 0,// 图片页数\n\t\t\t\t\tisOnClass: false,\n\t\t\t\t\tstudentIn: false, // 判断学生是否进来\n\t\t\t\t\tteacherName: getStore('name'),\n\t\t\t\t\tstudentName: '',\n\t\t\t\t\tisShowStudentVideo: true,\n\t\t\t\t\tisShowTeacherVideo: true,\n\t\t\t\t\tclassDone: false,\n\t\t\t\t\tpageIds: [],\n\t\t\t\t}\n\t\t\t},\n\t\t\tprops: {},\n\t\t\tcomputed: {\n\t\t\t\tpageNum (){\n\t\t\t\t\treturn this.images.length\n\t\t\t\t},\n\t\t\t\tnowPage (){\n\t\t\t\t\treturn this.pageCount + 1\n\t\t\t\t},\n\t\t\t\tgapTime: {\n\t\t\t\t\tget (){\n\t\t\t\t\t\tif (this.beginTime != null) {\n\t\t\t\t\t\t\tlet _time = Math.ceil((this.beginTime - (+new Date())) / 60000)\n\t\t\t\t\t\t\tif (_time <= 0) {\n\t\t\t\t\t\t\t\tthis.isShowMtBar = false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcountFn(_time, 60000, () => {\n\t\t\t\t\t\t\t\tthis.gapTime2 = --_time\n\t\t\t\t\t\t\t}, () => {\n\t\t\t\t\t\t\t\tthis.isShowMtBar = false\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthis.gapTime2 = _time\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.gapTime2 = 5\n\t\t\t\t\t\t}\n\n\t\t\t\t\t},\n\t\t\t\t\tset (data){\n//\t\t\t\t\t\tconsole.log(data)\n\t\t\t\t\t\tthis.gapTime2 = data\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tcreated () {\n\t\t\t},\n\t\t\tmounted () {\n\t\t\t\t// clear the interval\n\t\t\t\tclearInterval(getSession('interval_id'))\n\t\t\t\tremoveSession('interval_id')\n\t\t\t\t// init courseId\n\t\t\t\tthis.courseId = getSession('courseId_forClass');\n\t\t\t\t// bind reDraw event\n\t\t\t\tthis.$ipc.on('redraw', () => {\n\t\t\t\t\tthis._reDraw();\n\t\t\t\t})\n\t\t\t\t// onClass\n\t\t\t\tthis._onClass()\n\t\t\t\t// 实例化本地白板\n\t\t\t\tthis.localCanvas = new XBoard('localCanvas', $('#localCanvas'))\n\t\t\t\tthis.remoteCanvas = new XBoard('remoteCanvas', $('#remoteCanvas'))\n\n\t\t\t\t// 白板绑定事件\n\t\t\t\tthis.localCanvas.bindCallBack(this._writeCanvas, this._clearCanvas, this._eraserCanvas)\n\t\t\t\t// 当前课程\n\t\t\t\tthis.$api.getCurrentCourse(this.courseId).then((res) => {\n\t\t\t\t\tlet _data = res.data\n\t\t\t\t\tthis.beginTime = _data.beginTime\n\t\t\t\t\tthis.studentName = _data.studentName\n\t\t\t\t})\n\n\t\t\t\tlet getData = async() => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait  this.$api.videoPlatform(this.courseId, 'webrtc')\n\t\t\t\t\t\tlet _coursewareId = await this.$api.searchCourseware(this.courseId)\n\n\t\t\t\t\t\t//\t获取课件id\n\t\t\t\t\t\tthis.coursewareId = _coursewareId.data.coursewareId\n\n\t\t\t\t\t\tlet _coursePics = await this.$api.previewCourseWare(this.coursewareId)\n\n\t\t\t\t\t\t// 获取图片和课件详细信息\n\t\t\t\t\t\tthis.imagesObj = _coursePics.data.pageList\n\t\t\t\t\t\t// this.imagesObj.id\n\t\t\t\t\t\tfor (let item of this.imagesObj) {\n\t\t\t\t\t\t\tthis.images.push(item.imageUrl)\n\t\t\t\t\t\t\tthis.pageIds.push(item.id)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// 获取上课token\n\t\t\t\t\t\tlet _courseToken = await this.$api.getLessonToken(this.courseId)\n\n\t\t\t\t\t\tthis.lessonToken = _courseToken.data.result.lessonToken\n\n\t\t\t\t\t\t// 轮询\n//\t\t\t\t\t\tthis._polling(25000)\n\t\t\t\t\t\tthis._polling()\n\n\t\t\t\t\t\t// 断点上课\n\t\t\t\t\t\tlet historyData = await this.$api.searchHistory(this.lessonToken)\n\t\t\t\t\t\tfor (let item of this.pageIds) {\n\t\t\t\t\t\t\tif (historyData.data.result.pageId == item) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (historyData.data.result.student.length != 0) {\n\t\t\t\t\t\t\t\tthis._reDrawByPage(historyData.data.result.student)\n\t\t\t\t\t\t\t} else if (historyData.data.result.teacher.length != 0) {\n\t\t\t\t\t\t\t\tthis._reDrawByPage(historyData.data.result.teacher)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis._reDrawByPage(historyData.data.result.student, historyData.data.result.teacher)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (this.pageCount < this.images.length ) {\n\t\t\t\t\t\t\t\tthis.pageCount++\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n//\t\t\t\t\t\tconsole.log(this.coursewareId, this.images, this.lessonToken)\n\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.error(err)\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tgetData()\n\n\n\t\t\t\t\t\t\tthis.mediaConnection()\n\n\n\t\t\t},\n\t\t\tbeforeDestroy(){\n\t\t\t\t//\n\t\t\t\tthis._offClass()\n\t\t\t\tthis.clearStreams()\n\t\t\t\tclearInterval(getSession('interval_id'))\n\t\t\t\tremoveSession('interval_id')\n\t\t\t},\n\t\t\tmethods: {\n\t\t\t\t_showMtBar(){\n\t\t\t\t\tthis.isShowMtBar = false\n\t\t\t\t},\n\t\t\t\t_updateSignal1(val){\n\t\t\t\t\tthis.signal1 = val\n\t\t\t\t},\n\t\t\t\t_updateSignal2(val){\n\t\t\t\t\tthis.signal2 = val\n\t\t\t\t},\n\t\t\t\t//\t顶部提示距离上课时间\n//\t\t\t\t_remindTime(){\n//\t\t\t\t\tlet _nowTime = +new Date()\n//\t\t\t\t\tlet _gapTime = this.beginTime - (+new Date())\n//\n////\t\t\t\t\tcountFn()\n//\t\t\t\t},\n\t\t\t\t// 重绘和重计算高度\n\t\t\t\t_reDraw(){\n\t\t\t\t\tthis.remoteCanvas.recompute($('#remoteCanvas'))\n\t\t\t\t\tthis.localCanvas.recompute($('#localCanvas'))\n\t\t\t\t\tthis.localCanvas.plotPoints()\n\t\t\t\t},\n\t\t\t\t// 发送上课命令\n\t\t\t\t_onClass (){\n\t\t\t\t\tconsole.log('上课')\n\t\t\t\t\tthis.$ipc.send(\"onClass\", true)\n\t\t\t\t},\n\t\t\t\t// 发送上课请求\n\t\t\t\tonClass (){\n//\t\t\t\t  console.log(Math.round((this.beginTime - (+new Date())) / 60000))\n\n\t\t\t\t\t// TODO:别注释业务判断\n\t\t\t\t\tif (Math.round((this.beginTime - (+new Date())) / 60000) > 0) {\n\t\t\t\t\t\tthis.$message({message: '还未到上课时间', duration: 1500})\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t\tif (!this.studentIn) {\n\t\t\t\t\t\tthis.$message({message: '学生还没进入教室', duration: 1500})\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\n\n\t\t\t\t\tconsole.log('发送上课请求')\n\t\t\t\t\tthis.$api.startLesson(this.lessonToken).then((res) => {\n\t\t\t\t\t\tlet _data = res.data\n\t\t\t\t\t\tif (!_data.status) {\n\t\t\t\t\t\t\t// 上课成功\n\t\t\t\t\t\t\tthis.isOnClass = true\n\t\t\t\t\t\t\tthis.$store.commit('START_COUNT_TIME') // 提交上课状态\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.$message({message: _data.msg, duration: 1500})\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}).catch((err) => {\n\t\t\t\t\t\tconsole.error(err)\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\t// 发送下课命令\n\t\t\t\t_offClass () {\n\t\t\t\t\tthis.$ipc.send('onClass', false)\n\t\t\t\t\tconsole.log('下课')\n\t\t\t\t},\n\t\t\t\t// 轮询\n\t\t\t\t_polling (){\n//\t\t\t\t\tlet that = this\n//\t\t\t\t\tif (gapTime < 5000 || !this.lessonToken) {\n//\t\t\t\t\t\treturn;\n//\t\t\t\t\t}\n//\t\t\t\t\tlet intervalId = setInterval(() => {\n//\t\t\t\t\t\tthat.$api.syncLessonMessage(this.lessonToken)\n//\t\t\t\t\t}, gapTime)\n//\t\t\t\t\tsetSession('interval_id', intervalId)\n\t\t\t\t\tif(!getSession('courseId_forClass')){\n\t\t\t\t\t\t// 停止轮询的标志\n\t\t\t\t\t\tconsole.log('你已离开教室')\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.$api.syncLessonMessage(this.lessonToken).then((res) => {\n\t\t\t\t\t\tif (!res.data.status) {\n\t\t\t\t\t\t\tif (!res.data.result.msgs) {\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (res.data.result.msgs[0].cmd == 'draw') {\n\t\t\t\t\t\t\t\t\t// 学生画画\n//\t\t\t\t\t\t\t\t\tthis._reDrawByPage(res.data.result.msgs[0].data)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (res.data.result.msgs[0].data == 'studentOut') {\n\t\t\t\t\t\t\t\t\tthis.$message({message: '学生已离开教室', duration: 1500})\n\t\t\t\t\t\t\t\t\tthis.studentIn = false\n\t\t\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t// 真小学生一样的接口\n\t\t\t\t\t\t\t\t\tif (JSON.parse(res.data.result.msgs[0].data).studentIn) {\n\t\t\t\t\t\t\t\t\t\tthis.studentIn = true\n\t\t\t\t\t\t\t\t\t\tthis.$message({message: '学生已进入教室，可以开始上课了', duration: 1500})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis._polling()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.error(res.data.msg)\n\t\t\t\t\t\t\tif (res.data.status == '-102') {\n\t\t\t\t\t\t\t\tthis.$message({message: res.data.msg, duration: 1500})\n\t\t\t\t\t\t\t\treturn false\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}).catch((err) => {\n\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\t// 上课视频连接\n\t\t\t\tmediaConnection () {\n\t\t\t\t\tlet webrtc = WebRTC('teacher')\n\t\t\t\t\tlet courseId = window.sessionStorage.getItem('courseId_forClass') || 0\n\t\t\t\t\tlet onlineStatus = true\n\t\t\t\t\tlet localStreamObj = {}\n\t\t\t\t\tlet remoteStreamObj = {}\n\t\t\t\t\tlet that = this\n\t\t\t\t\tlet streamConfig = {\n\t\t\t\t\t\t\"video\": true,\n\t\t\t\t\t\t\"audio\": {\n\t\t\t\t\t\t\toptional: [{\n\t\t\t\t\t\t\t\tgoogAutoGainControl: true\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tgoogEchoCancellation: true\n\t\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\t\tgoogNoiseSuppression: true\n\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t}\n\t\t\t\t\t} // 视频流配置\n\n\t\t\t\t\twebrtc.on(\"socket_opened\", function () {\n\n\t\t\t\t\t\t// 1.建一个对象，传入配置，发射出来，然后返回对象便以后操作\n\t\t\t\t\t\twebrtc.createLocalStream(streamConfig)\n\t\t\t\t\t})\n\n\t\t\t\t\twebrtc.on(\"stream_created\", function (e) {\n\t\t\t\t\t\tlocalStreamObj = new XMediaStream()\n\t\t\t\t\t\tlocalStreamObj.recordStream(e.stream)\n\t\t\t\t\t\t// 记录音频\n\t\t\t\t\t\tthat.localBox = new XAudioBox()\n\t\t\t\t\t\tthat.localBox.initBox()\n\t\t\t\t\t\tthat.localBox.loadStream(e.stream)\n\t\t\t\t\t\tthat.localBox.createDataArray(32)\n\t\t\t\t\t\tthat.localBox.outputData(()=>{\n\t\t\t\t\t\t\tthat.signal2 = computeVolume(that.localBox.dataArray, 300)\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthat.localStreamObj = localStreamObj\n\t\t\t\t\t  \tconsole.log(localStreamObj.mediaStream)\n\t\t\t\t\t\tdocument.getElementById('localVideo').srcObject =localStreamObj.mediaStream\n\t\t\t\t\t\tthat.isShowTeacherVideo = true\n\t\t\t\t\t});\n\n\t\t\t\t\twebrtc.on(\"peer_stream\", function (e) {\n\t\t\t\t\t\t// 来自对方\n\t\t\t\t\t\tremoteStreamObj = new XMediaStream()\n\t\t\t\t\t\tremoteStreamObj.recordStream(e.stream)\n\t\t\t\t\t\tthat.remoteBox = new XAudioBox()\n\t\t\t\t\t\tthat.remoteBox.initBox()\n\t\t\t\t\t\tthat.remoteBox.loadStream(e.stream)\n\t\t\t\t\t\tthat.remoteBox.createDataArray(32)\n\t\t\t\t\t\tthat.remoteBox.outputData(() => {\n\t\t\t\t\t\t\tthat.signal1 = computeVolume(that.remoteBox.dataArray, 300)\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthat.remoStreamObj = remoteStreamObj\n\t\t\t\t\t  \tdocument.getElementById('remoteVideoURL').srcObject = remoteStreamObj.mediaStream\n\t\t\t\t\t\tthat.isShowStudentVideo = true\n\t\t\t\t\t\tthat.studentIn = true\n\t\t\t\t\t});\n\n\n\t\t\t\t\twebrtc.on(\"remove_peer\", function () {\n\t\t\t\t\t\tconsole.log(\"remove_peer\");\n\t\t\t\t\t});\n\t\t\t\t\twebrtc.on(\"remove_stream\", function () {\n\t\t\t\t\t\tconsole.log(\"远程流删除\");\n\t\t\t\t\t});\n\n\t\t\t\t\tthat.$api.teacherConfigure(courseId).then((res) => {\n\t\t\t\t\t\tlet _data = res.data.result.video\n\t\t\t\t\t\twebrtc.connect(_data.channelName, _data.uid, _data.key)\n\n\t\t\t\t\t}).catch((err) => {\n\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t})\n\n\t\t\t\t},\n\t\t\t\t// 测试封装的媒体流对象\n\t\t\t\ttest (){\n\t\t\t\t\tlet t = new XMediaStream()\n\t\t\t\t\ttry {\n\t\t\t\t\t\t(async() => {\n\t\t\t\t\t\t\tawait t.createMedia('audio')\n\t\t\t\t\t\t\tlet ad = new XAudioBox()\n\t\t\t\t\t\t\tad.initBox()\n//\t\t\t\t\t\t\tad.loadSrc('../../../static/audios/demo.mov')\n\t\t\t\t\t\t\tad.loadStream(t.mediaStream)\n\t\t\t\t\t\t\tad.createDataArray(32)\n//\t\t\t\t\t\t\tad.playSrc(1)\n\n\t\t\t\t\t\t\tad.outputData(() => {\n\t\t\t\t\t\t\t\tconsole.log(ad.dataArray)\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tt.stopAll()\n//\t\t\t\t\t\t\t\tad.stop()\n\t\t\t\t\t\t\t}, 2000)\n\n\n//\t\t\t\t\t\t\tthis.localVideoURL = window.URL.createObjectURL(t.mediaStream)\n\t\t\t\t\t\t})()\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t}\n\n\t\t\t\t},\n\t\t\t\tchangeColor(code){\n\t\t\t\t\tlet color = null\n\t\t\t\t\tswitch (code) {\n\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\tcolor = 'red';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\tcolor = 'black';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\tcolor = 'blue';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tthis.localCanvas.changeColor(color)\n\t\t\t\t},\n\t\t\t\tchangeSize (code) {\n\t\t\t\t\tlet size = null\n\t\t\t\t\tswitch (code) {\n\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\tsize = 'L';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\tsize = 'M';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\tsize = 'S';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tthis.localCanvas.changeSize(size)\n\t\t\t\t},\n\t\t\t\tuseEraser (){\n\t\t\t\t\tthis.localCanvas.useEraser()\n\t\t\t\t},\n\t\t\t\tcancelEraser (){\n\t\t\t\t\tthis.localCanvas.cancelEraser()\n\t\t\t\t},\n\t\t\t\tclearCanvas (){\n\t\t\t\t\tthis._clearCanvas().then(() => {\n\t\t\t\t\t\tthis.localCanvas.clearAllCanvas()\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\taddNewPage (){\n\t\t\t\t\tthis.$message({message:\"暂时未开放的功能\",duration:1500})\n\t\t\t\t\tconsole.log('添加新页')\n\t\t\t\t},\n\t\t\t\toffClass () {\n//\t\t\t\t\tconsole.log('下课')\n\t\t\t\t\tif (this.isOnClass) {\n\t\t\t\t\t\tthis._showMessageBox('未到下课时间，是否下课？', () => {\n\t\t\t\t\t\t\tthis.$api.teacherFinishCourse(this.courseId)\n\t\t\t\t\t\t\tthis.$store.commit(\"UPDATE_COURSE_ID\", this.courseId)\n\t\t\t\t\t\t\tremoveSession('courseId_forClass')\n\t\t\t\t\t\t\tthis.$router.push('/static/classInfo')\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tremoveSession('courseId_forClass')\n\t\t\t\t\t\tthis.$store.commit(\"UPDATE_COURSE_ID\", this.courseId)\n\t\t\t\t\t\tthis.$router.push('/static/classInfo')\n\t\t\t\t\t}\n\n//\t\t\t\t\tif (!this.classDone) {\n//\t\t\t\t\t\tthis.$message({message: '未到下课时间', duration: 1500})\n//\t\t\t\t\t\treturn false\n//\t\t\t\t\t}\n\n\t\t\t\t},\n\t\t\t\t// 上一页\n\t\t\t\tbackPage (){\n\t\t\t\t\tlet _temp = {\n\t\t\t\t\t\tpage: this.pageIds[this.pageCount - 1].toString(),\n\t\t\t\t\t\timageUrl: this.images[this.pageCount - 1]\n\n\t\t\t\t\t}\n\t\t\t\t\tthis._sendMessage('page', JSON.stringify(_temp)).then((res) => {\n//\t\t\t\t\t\tconsole.log(res.data)\n\t\t\t\t\t\tif (this.pageCount == 0) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n//\t\t\t\t\t\tconsole.log(res.data.result.pageHistory.teacher)\n//\t\t\t\t\t\tconsole.log(res.data.result.pageHistory.student)\n\t\t\t\t\t\tthis._reDrawByPage(res.data.result.pageHistory.student, res.data.result.pageHistory.teacher)\n\t\t\t\t\t\tthis.pageCount--\n\t\t\t\t\t})\n\n\n\t\t\t\t},\n\t\t\t\t// 下一页\n\t\t\t\tforwardPage (){\n\t\t\t\t\tlet _temp = {\n\t\t\t\t\t\tpage: this.pageIds[this.pageCount + 1].toString(),\n\t\t\t\t\t\timageUrl: this.images[this.pageCount + 1]\n\n\t\t\t\t\t}\n\t\t\t\t\tthis._sendMessage('page', JSON.stringify(_temp)).then((res) => {\n\t\t\t\t\t\tif (!res.data.status) {\n\t\t\t\t\t\t\tif (this.pageCount >= this.images.length) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis._reDrawByPage(res.data.result.pageHistory.student, res.data.result.pageHistory.teacher)\n//\t\t\t\t\t\t\tthis._reDrawByPage(res.data.result.pageHistory.teacher,res.data.result.pageHistory.student, )\n\t\t\t\t\t\t\tthis.pageCount++\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.error(res.data.msg)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\t// 底部栏计时结束\n\t\t\t\ttimeCountDone (){\n\t\t\t\t\tconsole.log('计时结束！！')\n\t\t\t\t\tif (!this.studentIn) {\n\t\t\t\t\t\tthis.$message({message: '学生旷课', duration: 1500})\n\t\t\t\t\t\tthis.$store.commit(\"UPDATE_COURSE_ID\", this.courseId)\n\t\t\t\t\t\tremoveSession('courseId_forClass')\n\t\t\t\t\t\tthis.$router.push('/static/classInfo')\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t\tthis.$message({message: '可以下课了', duration: 1500})\n\t\t\t\t\tthis.classDone = true\n\t\t\t\t},\n\t\t\t\t// 清除媒体流\n\t\t\t\tclearStreams (){\n\t\t\t\t\tif (this.localStreamObj) {\n\t\t\t\t\t\tthis.localStreamObj.stopAll()\n\t\t\t\t\t}\n\t\t\t\t\tif (this.remoteStreamObj) {\n\t\t\t\t\t\tthis.remoteStreamObj.stopAll()\n\t\t\t\t\t}\n\t\t\t\t\tif (this.localBox) {\n\t\t\t\t\t\tthis.localBox.stop()\n\t\t\t\t\t}\n\t\t\t\t\tif (this.remoteBox) {\n\t\t\t\t\t\tthis.remoteBox.stop()\n\t\t\t\t\t}\n\n\t\t\t\t},\n\t\t\t\t// 上课一系列的命令\n\t\t\t\t_sendMessage (cmd, data) {\n\t\t\t\t\t// cmd clear page\n\t\t\t\t\treturn this.$api.sendMessage(this.lessonToken, cmd, data)\n\n\t\t\t\t},\n\t\t\t\t_writeCanvas (data){\n\t\t\t\t\tthis._sendMessage('draw', JSON.stringify(data.data))\n\t\t\t\t},\n\t\t\t\t_clearCanvas () {\n\t\t\t\t\tlet _data = {\n\t\t\t\t\t\trole: 'teacher',\n\t\t\t\t\t\tline: []\n\t\t\t\t\t}\n\t\t\t\t\treturn this._sendMessage('clear', _data.toString())\n\t\t\t\t},\n\t\t\t\t_eraserCanvas () {\n\t\t\t\t\tconsole.log('暂时没用')\n\t\t\t\t},\n\t\t\t\t// 关闭视频信号\n\t\t\t\tcloseVideo(code){\n\t\t\t\t\tswitch (code) {\n\t\t\t\t\t\tcase -1:\n//\t\t\t\t\t\t\tif (!this.remoteStreamObj) {\n//\t\t\t\t\t\t\t\treturn;\n//\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.isShowStudentVideo = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\tthis.isShowStudentVideo = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\tthis.isShowTeacherVideo = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 2:\n//\t\t\t\t\t\t\tif (!this.localStreamObj) {\n//\t\t\t\t\t\t\t\treturn;\n//\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.isShowTeacherVideo = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t_showMessageBox(word, yesFn, noFn = () => {\n\t\t\t\t}){\n\t\t\t\t\tthis.$confirm(word, '提示', {\n\t\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\t\tcancelButtonText: '取消',\n\t\t\t\t\t\ttype: 'warning'\n\t\t\t\t\t}).then(() => {\n\t\t\t\t\t\tyesFn()\n\t\t\t\t\t}).catch(() => {\n\t\t\t\t\t\tnoFn()\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\t// 翻页导致的重绘\n\t\t\t\t_reDrawByPage (student = [], teacher = []){\n//\t\t\t\t\tconsole.log(student, teacher)\n\t\t\t\t\tthis.remoteCanvas.recompute($('#remoteCanvas'))\n\t\t\t\t\tthis.localCanvas.recompute($('#localCanvas'))\n\t\t\t\t\tthis.localCanvas.clearAllCanvas()\n\t\t\t\t\tthis.remoteCanvas.clearAllCanvas()\n\t\t\t\t\tif (student.length != 0) {\n\t\t\t\t\t\tthis.remoteCanvas.plotByOutPoints(student)\n\t\t\t\t\t}\n\t\t\t\t\tif (teacher.length != 0) {\n\t\t\t\t\t\tthis.localCanvas.plotByOutPoints(teacher)\n\t\t\t\t\t}\n\n\n\t\t\t\t}\n\t\t\t}\n\t\t}\n</script>\n\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\n\t@import \"../../common/styles/mixin\";\n\n\t.onClass {\n\t\t/*position: relative;*/\n\t\twidth: 100%;\n\t\t&-infoBar {\n\t\t\twidth: 100%;\n\t\t\tz-index: 1000;\n\t\t\tposition: fixed;\n\t\t\theight: 20px;\n\t\t\tbackground: #fff198;\n\t\t\tp {\n\t\t\t\ttext-align: center;\n\t\t\t\t@include fontSizeColor(14px, #d0aa17)\n\t\t\t}\n\t\t\timg {\n\t\t\t\tcursor: pointer;\n\t\t\t\t@include wh(14px, 14px);\n\t\t\t\ttop: 3px;\n\t\t\t\tposition: absolute;\n\t\t\t\tright: 10px;\n\t\t\t}\n\t\t}\n\t\t&-main {\n\t\t\t@include rowBox();\n\t\t\theight: 90vh;\n\t\t\t&-box {\n\t\t\t\tposition: relative;\n\t\t\t\theight: 100%;\n\t\t\t\tz-index: 0;\n\t\t\t\t/*background-color: #b3b3b3;*/\n\t\t\t\tbackground: #ffffff;\n\t\t\t\twidth: 80%;\n\t\t\t}\n\t\t\t&-video {\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\tpadding: 20px 15px 0 15px;\n\t\t\t\twidth: 20%;\n\t\t\t\theight: 90%;\n\t\t\t\tbackground: $bg_wht;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-flow: column;\n\t\t\t\talign-items: center;\n\t\t\t\t&-item {\n\t\t\t\t\tposition: relative;\n\t\t\t\t\tbackground: rgba(0, 0, 0, .8);\n\t\t\t\t\tmargin-bottom: 40px;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t.videoBox {\n\t\t\t\t\t\t@include wh(100%, 100%);\n\t\t\t\t\t\t&-word {\n\t\t\t\t\t\t\tmargin-top: -140px;\n\t\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\t\t@include fontSizeColor(12px, $fontClr_2nd)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t.signalBar {\n\t\t\t\t\t\tpadding-top: 3px;\n\t\t\t\t\t\tpadding-left: 10px;\n\t\t\t\t\t\tbackground: rgba(0, 0, 0, .5);\n\t\t\t\t\t\tposition: absolute;\n\n\t\t\t\t\t\tbottom: 0;\n\t\t\t\t\t\t@include fontSizeColor(12px, $bg_wht);\n\t\t\t\t\t\timg {\n\t\t\t\t\t\t\tmargin-top: 2px;\n\t\t\t\t\t\t\tmargin-left: 4px;\n\t\t\t\t\t\t\theight: 14px;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/*for minScreen*/\n\t\t\t\t@media screen and(max-width: 1140px) {\n\t\t\t\t\t&-item {\n\t\t\t\t\t\t@include wh(148px, 200px);\n\t\t\t\t\t}\n\t\t\t\t\t.signalBar {\n\t\t\t\t\t\t@include wh(148px, 24px);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t/*For fullScreen*/\n\t\t\t\t@media screen and(min-width: 1140px) {\n\t\t\t\t\t&-item {\n\t\t\t\t\t\t@include wh(238px, 250px);\n\t\t\t\t\t}\n\t\t\t\t\t.signalBar {\n\t\t\t\t\t\t@include wh(100%, 24px);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t/*For xs Screen*/\n\t\t\t@media screen and(max-width: 800px) {\n\t\t\t\t&-box {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t}\n\t\t\t\t&-video {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t.video_clsBtn {\n\t\tcursor: pointer;\n\t\tright: 6px;\n\t\ttop: 6px;\n\t\tposition: absolute;\n\t\t@include wh(16px, 16px)\n\t}\n\n\t.toolBar {\n\t\tbottom: 0;\n\t\tposition: fixed !important;\n\t}\n\n\t#localCanvas {\n\t\tz-index: 1;\n\t\ttop: 0;\n\t\tposition: absolute;\n\t\t@include wh(100%, 100%)\n\t}\n\n\t#remoteCanvas {\n\t\ttop: 0;\n\t\tz-index: 0;\n\t\tposition: absolute;\n\t\t@include wh(100%, 100%)\n\t}\n\n\t#imgBox {\n\t\ttop: 0;\n\t\tz-index: -1;\n\t\tposition: absolute;\n\t\t@include wh(100%, 100%);\n\t\timg {\n\t\t\t@include wh(100%, 100%)\n\t\t}\n\t}\n\n\t#mask {\n\t\ttop: 0;\n\t\tposition: absolute;\n\t\tz-index: 1;\n\t\t@include wh(100%, 100%);\n\t\t@include allMidBox();\n\t\tbackground: rgba(0, 0, 0, .4);\n\t\t.btn {\n\t\t\tposition: absolute;\n\t\t\tz-index: 2;\n\t\t}\n\t}\n\n\t.videoMask {\n\t\tposition: absolute;\n\t\t@include wh(100%, 100%);\n\t\tbackground: $bg_gry;\n\t\t@include allMidBox();\n\t\t@include fontSizeColor(12px, $fontClr_2nd)\n\t}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// onClass.vue?265a19fc","/**\n * Created by Acery on 2017/8/22.\n */\n\n\n// 橡皮擦 1. clearRect 2. 设置画笔隐形\n// 在使用橡皮擦的时候进行隐形划线 划线坐标与储存的points做交集，拿到交集部分再进行clearRect\n\n\n// record: 1.搞清楚class里什么时候该用成状态 什么时候该用成一个暂存数据 什么时候该清除数据\n\n//获取页面上的canvas元素\n// 前台功能 绘画，改变颜色，橡皮，删除\n// 后台实时发送坐标数据 以及各种命令，以回调Promise的形式抛出去\n// 各种resize需要设计reload函数\n// creator:You_Chao_Yang\n\n\n// **** important: need JQuery register first ****\nfunction XBoard(DomId, canvasDom) {\n\tthis.ctx = null // canvas obj\n\tthis.isPainting = false // judge painting\n\tthis.isUsingEraser = false // judge Eraser\n\tthis.height = undefined // to recompute the canvas height\n\tthis.width = undefined // to recompute the canvas width\n\tthis.top = undefined // store the position of canvasDom\n\tthis.left = undefined // store the position of canvasDom\n\tthis.canvasDom = null // store the dom\n\tthis.domId = null // store dom attr:id\n\tthis.color = 'black' // now : blue red black\n\tthis.penSize = 4// the size of pen(S:2,M:4,L:8)\n\tthis.eraserSize = 40 // the size of eraser\n\tthis.scaleX = 1 // store newCanvasWidth/canvasWidth\n\tthis.scaleY = 1 // store newCanvasHeight/canvasHeight\n\t// this.points = [] // store all  position data  (func: resize to recovery)\n\t// this.clearPoints = []\n\tthis.tempPoint = [] //temporary storage （after send out remember clear!)\n\tthis.tempClearPoint = [] // judge valid line\n\tthis.tolerantRadious = 10 // blur clear\n\tthis.pointsData = []\n\t\n\t\n\t// define callBack fn\n\tthis.writeFn = ()=>{\n\t\tconsole.log('write')\n\t}\n\tthis.eraserFn = ()=>{\n\t\tconsole.log('eraser')\n\t}\n\tthis.clearFn = ()=>{\n\t\tconsole.log('clear')\n\t}\n\t\n\t// bind events\n\tlet _bindEvents = () => {\n\t\tlet self = this;\n\t\tdocument.getElementById(self.domId).setAttribute('height', self.height)\n\t\tdocument.getElementById(self.domId).setAttribute('width', self.width)\n\t\t\n\t\tself.canvasDom.on('mousedown', function (e) {\n\t\t\tself.tempPoint = [] // refresh\n\t\t\tself.tempClearPoint = [] // refresh\n\t\t\tself.isPainting = true\n\t\t\tself.ctx.beginPath()\n\t\t\tself.ctx.moveTo(e.clientX - self.left, e.clientY - self.top)\n\t\t})\n\t\t\n\t\tself.canvasDom.on('mouseup', function () {\n\t\t\tself.isPainting = false\n\t\t\t// 判断是否为无效橡皮擦轨迹\n\t\t\t// if (self.isUsingEraser) {\n\t\t\t// \tconsole.log(self.judgeIntersection(self.tempClearPoint))\n\t\t\t// }\n\t\t\t\n\t\t\t// 存下当前的pointData\n\t\t\tlet _temp = {\n\t\t\t\tcmd: '', // clear/draw\n\t\t\t\tdata: {\n\t\t\t\t\tcolor: null,\n\t\t\t\t\tsize: null,\n\t\t\t\t\tpoint: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\t\ty: 0\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (self.isUsingEraser) {\n\t\t\t\t// 说明是clearLine\n\t\t\t\t_temp.cmd = 'clear'\n\t\t\t\t\n\t\t\t\t_temp.data.point = self.tempClearPoint\n\t\t\t} else {\n\t\t\t\t// 说明是drawLine\n\t\t\t\t_temp.cmd = 'draw'\n\t\t\t\t_temp.data.color = self.color\n\t\t\t\t_temp.data.size = self.penSize\n\t\t\t\t_temp.data.point = self.tempPoint\n\t\t\t}\n\t\t\t\n\t\t\tself.pointsData.push(_temp)\n\t\t\t//\t触发回调函数\n\t\t\tif(self.isUsingEraser){\n\t\t\t\tself.eraserFn(_temp)\n\t\t\t}else{\n\t\t\t\tself.writeFn(_temp)\n\t\t\t}\n\t\n\t\t\t// console.log(self.pointsData)\n\t\t\tself.ctx.closePath();\n\t\t})\n\t\t\n\t\tself.canvasDom.on('mousemove', function (e) {\n\t\t\tif (self.isPainting) {\n\t\t\t\t// 使用橡皮擦\n\t\t\t\tif (self.isUsingEraser) {\n\t\t\t\t\tself.ctx.strokeStyle = 'transparent' // static\n\t\t\t\t\tself.ctx.lineWidth = self.eraserSize // variable\n\t\t\t\t\tself.ctx.clearRect(e.clientX - self.left, e.clientY - self.top, self.eraserSize, self.eraserSize)\n\t\t\t\t} else {\n\t\t\t\t\tself.ctx.strokeStyle = self.color\n\t\t\t\t\tself.ctx.lineWidth = self.penSize\n\t\t\t\t}\n\t\t\t\tself.ctx.lineTo(e.clientX - self.left, e.clientY - self.top)\n\t\t\t\t// self.storeData(e.clientX - self.left, e.clientY - self.top, self.eraserSize, self.eraserSize)\n\t\t\t\tself.storeTempData(e.clientX - self.left, e.clientY - self.top, self.eraserSize, self.eraserSize)\n\t\t\t\tself.ctx.stroke();\n\t\t\t}\n\t\t})\n\t\t\n\t\tself.canvasDom.on('mouseleave', function () {\n\t\t\tself.isPainting = false\n\t\t})\n\t\t\n\t\tself.canvasDom.on(\"click\", function (e) {\n\t\t\t// 暂时没功能\n\t\t})\n\t\t\n\t}\n\tif (DomId && canvasDom) {\n\t\tif (document.getElementById(DomId).getContext(\"2d\")) {\n\t\t\tthis.ctx = document.getElementById(DomId).getContext(\"2d\");\n\t\t\tthis.domId = DomId\n\t\t\tthis.canvasDom = canvasDom\n\t\t\tthis.top = canvasDom.offset().top\n\t\t\tthis.left = canvasDom.offset().left\n\t\t\tthis.height = canvasDom.height()\n\t\t\tthis.width = canvasDom.width()\n\t\t\t_bindEvents()\n\t\t} else {\n\t\t\t//  canvas-unsupported code here\n\t\t\talert(\"this browser can not support canvas\")\n\t\t}\n\t\t\n\t} else {\n\t\tconsole.error(\"XB init ERR: params undefined\")\n\t}\n\t\n}\n\n/**\n * 换画笔颜色\n * @param color\n */\nXBoard.prototype.changeColor = function (color) {\n\tswitch (color) {\n\t\tcase 'black':\n\t\t\tthis.color = '#231815';\n\t\t\tbreak;\n\t\tcase 'blue':\n\t\t\tthis.color = '#4a96ff';\n\t\t\tbreak;\n\t\tcase 'red':\n\t\t\tthis.color = '#ff3333';\n\t\t\tbreak;\n\t\tdefault: {\n\t\t\tconsole.error('XB changeColorWARN: unknown colors')\n\t\t\tthis.color = color\n\t\t}\n\t}\n}\n\n/**\n * 换画笔粗细\n * @param size\n */\nXBoard.prototype.changeSize = function (size) {\n\tswitch (size) {\n\t\tcase 'S':\n\t\t\tthis.penSize = 2;\n\t\t\tbreak;\n\t\tcase 'M':\n\t\t\tthis.penSize = 4;\n\t\t\tbreak;\n\t\tcase 'L':\n\t\t\tthis.penSize = 8;\n\t\t\tbreak;\n\t\tdefault: {\n\t\t\tconsole.error('XB changeSizeWARN: unknown size')\n\t\t\tthis.penSize = size\n\t\t}\n\t}\n}\n\n/**\n * 清屏\n */\nXBoard.prototype.clearAllCanvas = function () {\n\tthis.ctx.stroke()\n\tthis.ctx.closePath()\n\tthis.ctx.clearRect(0, 0, this.width, this.height);\n\tthis.clearData()\n\t//TODO:以后加上\n\t// this.clearFn()\n}\n\n\n/**\n * 通过点坐标用于清除画布\n * @param points\n */\n// XBoard.prototype.clearCanvasByPoints = function (points) {\n// \tif (!points) {\n// \t\tconsole.error('XB:clearCanvasByPoints ERR ---params undefined')\n// \t} else {\n// \t\tfor (let i = 0; i < points.length; ++i) {\n// \t\t\t// this.ctx.clearRect(item.x, item.y, this.eraserSize, this.eraserSize)\n// \t\t\tthis.ctx.clearRect(points[i].x * this.scaleX, points[i].y * this.scaleY, this.eraserSize, this.eraserSize)\n//\n// \t\t\t// 更新clearPoints\n// \t\t\tpoints[i].x = points[i].x * this.scaleX\n// \t\t\tpoints[i].y = points[i].y * this.scaleY\n// \t\t}\n// \t}\n// }\n\n\n/**\n * 使用橡皮 TODO：橡皮的回调函数没写呢\n */\nXBoard.prototype.useEraser = function () {\n\tthis.isUsingEraser = true\n}\n\n/**\n * 退出使用橡皮擦 涉及到筛选调 clearPoints 和 points的交点为圆心画圆 在圆内的所有点全部清除掉\n */\nXBoard.prototype.cancelEraser = function () {\n\tthis.isUsingEraser = false\n\t\n\t// ******** 半径算法 被 通过clearPoints模拟橡皮轨迹 所替代 *********\n\t// for (let i = 0; i < this.clearPoints.length; i++) {\n\t// \tfor (let point of this.points) {\n\t// \t\t// Math.pow(Math.pow(x1-x2,2)+Math.pow(y1-y2,2),1/2)\n\t// \t\tif (Math.pow(\n\t// \t\t\t\t(\n\t// \t\t\t\t\tMath.pow(this.clearPoints[i].x - point.x, 2)\n\t// \t\t\t\t\t+\n\t// \t\t\t\t\tMath.pow(this.clearPoints[i].y - point.y, 2)\n\t// \t\t\t\t\t//         this.tolerantRadious\n\t// \t\t\t\t), 1 / 2) <= this.eraserSize) {\n\t//\n\t// \t\t\tthis.points.splice(i, 1)\n\t// \t\t}\n\t// \t}\n\t// }\n}\n\n// XBoard.prototype.judgeIntersection = function (points) {\n// \t// 离散分布情况计数\n// \tlet count = 0\n//\n// \tfor (let i = 0; i < points.length; i++) {\n// \t\tfor (let point of this.points) {\n// \t\t\t// Math.pow(Math.pow(x1-x2,2)+Math.pow(y1-y2,2),1/2)\n//\n//\n// \t\t\t// console.log(points[i].x, point.x)\n// \t\t\t// console.log(Math.pow(\n// \t\t\t// \t(\n// \t\t\t// \t\tMath.pow(points[i].x - point.x, 2)\n// \t\t\t// \t\t+\n// \t\t\t// \t\tMath.pow(points[i].y - point.y, 2)\n// \t\t\t// \t), 1 / 2))\n// \t\t\tif (Math.pow(\n// \t\t\t\t\t(\n// \t\t\t\t\t\tMath.pow(this.clearPoints[i].x - point.x, 2)\n// \t\t\t\t\t\t+\n// \t\t\t\t\t\tMath.pow(this.clearPoints[i].y - point.y, 2)\n// \t\t\t\t\t), 1 / 2) <= this.tolerantRadious) {\n// \t\t\t\tcount++\n// \t\t\t\t// console.log(count)\n// \t\t\t}\n// \t\t}\n// \t}\n//\n// \treturn count > 1;\n// }\n\n\n/**\n * 重新计算canvas尺寸 核心计算：比例不变原则\n */\nXBoard.prototype.recompute = function (canvasDom) {\n\t// 重置数据\n\tthis.scaleX = canvasDom.width() / this.width // new/old\n\tthis.scaleY = canvasDom.height() / this.height// new/old\n\tthis.height = canvasDom.height()\n\tthis.width = canvasDom.width()\n\tthis.top = canvasDom.offset().top\n\tthis.left = canvasDom.offset().left\n\tdocument.getElementById(this.domId).setAttribute('height', this.height)\n\tdocument.getElementById(this.domId).setAttribute('width', this.width)\n}\n\n/**\n * 储存坐标数据\n */\n// XBoard.prototype.storeData = function (pointX, pointY) {\n// \tif (this.isUsingEraser) {\n// \t\tthis.clearPoints.push({\n// \t\t\t\tx: pointX,\n// \t\t\t\ty: pointY\n// \t\t\t}\n// \t\t)\n// \t} else {\n// \t\tthis.points.push({\n// \t\t\tx: pointX,\n// \t\t\ty: pointY\n// \t\t})\n// \t}\n//\n// }\n\n/**\n * 储存临时坐标数据（用于发送和判断的坐标数据）\n */\nXBoard.prototype.storeTempData = function (pointX, pointY) {\n\tif (this.isUsingEraser) {\n\t\tthis.tempClearPoint.push({\n\t\t\t\tx: pointX,\n\t\t\t\ty: pointY\n\t\t\t}\n\t\t)\n\t} else {\n\t\tthis.tempPoint.push({\n\t\t\tx: pointX,\n\t\t\ty: pointY\n\t\t})\n\t}\n\t\n}\n\n/**\n * 清除储存的坐标数据\n */\nXBoard.prototype.clearData = function () {\n\t// this.points = []\n\t// this.clearPoints = []\n\tthis.pointsData = []\n}\n\n/**\n * 通过储存的坐标绘制画图 作用：用于resize之后的重绘\n */\n// XBoard.prototype.drawData = function () {\n// \tlet self = this\n// \tself.ctx.strokeStyle = self.color\n// \tself.ctx.lineWidth = self.penSize\n// \tself.ctx.beginPath()\n// \t// if(!this.points)\n// \tif (this.points.length == 0) {\n// \t\tconsole.error(\"XB:drawData ERR --- points.length ERR\")\n// \t\treturn false\n// \t}\n// \tself.ctx.moveTo(this.points[0].x * self.scaleX, this.points[0].y * self.scaleY)\n// \tfor (let i = 0; i < this.points.length; i++) {\n// \t\tself.ctx.lineTo(this.points[i].x * self.scaleX, this.points[i].y * self.scaleY) // 按比例来缩放\n//\n// \t\t// 更新点坐标\n// \t\tself.ctx.stroke();\n// \t\tself.points[i].x = this.points[i].x * self.scaleX\n// \t\tself.points[i].y = this.points[i].y * self.scaleY\n// \t}\n// \tself.ctx.closePath()\n// \t// self.clearData()\n// }\n\n\n/**\n * 通过点坐标绘制图形\n * @param color\n * @param size\n * @param points\n * @returns {boolean} status\n */\n// XBoard.prototype.drawCanvasByPoints = function (color, size, points) {\n// \tthis.recompute(this.canvasDom)\n// \tif (!points || !color || !size) {\n// \t\tconsole.error('XB: drawCanvasByPoints --- params undefined')\n// \t\treturn false\n// \t} else {\n// \t\tthis.ctx.strokeStyle = color\n// \t\tthis.ctx.lineWidth = size\n// \t\tthis.ctx.beginPath()\n// \t\tif (points.length == 0) {\n// \t\t\tconsole.error(\"XB:drawCanvasByPoints ERR --- points.length ERR\")\n// \t\t\treturn false\n// \t\t}\n// \t\tthis.ctx.moveTo(points[0].x * this.scaleX, points[0].y * this.scaleY)\n// \t\tfor (let i = 0; i < points.length; ++i) {\n// \t\t\tthis.ctx.lineTo(points[i].x * this.scaleX, points[i].y * this.scaleY)\n// \t\t\tthis.ctx.stroke()\n// \t\t}\n// \t\tthis.ctx.closePath()\n// \t}\n// }\n\n\n/**\n * new: 从 pointsData 里读取命令和坐标数据进行绘画和擦除\n */\nXBoard.prototype.plotPoints = function () {\n\t// console.log(this.pointsData)\n\tif (!this.pointsData.length) {\n\t\tconsole.error('XB: plotPoint ERR ---- there is no data in pointsData')\n\t\treturn false\n\t} else {\n\t\tfor (let i = 0; i < this.pointsData.length; ++i) {\n\t\n\t\t\tif (this.pointsData[i].cmd == 'clear') {\n\t\t\t\t// 清除\n\t\t\t\tthis.clearLine(this.pointsData[i].data.point)\n\t\t\t}\n\t\t\tif (this.pointsData[i].cmd == 'draw') {\n\t\t\t\t// 绘画\n\t\t\t\tthis.drawLine(this.pointsData[i].data.color, this.pointsData[i].data.size, this.pointsData[i].data.point)\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * 绘画命令所执行函数\n * @param color\n * @param size\n * @param data\n * @returns {boolean}\n */\nXBoard.prototype.drawLine = function (color, size, data) {\n\tif (!data || !color || !size) {\n\t\tconsole.error('XB: drawLine --- params undefined')\n\t\treturn false\n\t} else {\n\t\tthis.ctx.strokeStyle = color\n\t\tthis.ctx.lineWidth = size\n\t\tthis.ctx.beginPath()\n\t\tif (data.length == 0) {\n\t\t\tconsole.error(\"XB: drawLine ERR --- points.length ERR\")\n\t\t\treturn false\n\t\t}\n\t\tthis.ctx.moveTo(data[0].x * this.scaleX, data[0].y * this.scaleY)\n\t\tfor (let i = 0; i < data.length; ++i) {\n\t\t\tthis.ctx.lineTo(data[i].x * this.scaleX, data[i].y * this.scaleY)\n\t\t\t\n\t\t\t// update data\n\t\t\tdata[i].x = data[i].x * this.scaleX\n\t\t\tdata[i].y = data[i].y * this.scaleY\n\t\t\tthis.ctx.stroke()\n\t\t}\n\t\tthis.ctx.closePath()\n\t}\n}\n\n/**\n * 清除命令所执行函数\n * @param points\n * @returns {boolean}\n */\nXBoard.prototype.clearLine = function (points) {\n\tif (!points || points.length == 0) {\n\t\tconsole.error('XB: clearLine ERR --- params wrong')\n\t\treturn false\n\t} else {\n\t\tfor (let i = 0; i < points.length; ++i) {\n\t\t\tthis.ctx.clearRect(points[i].x * this.scaleX, points[i].y * this.scaleY, this.eraserSize, this.eraserSize)\n\t\t\t\n\t\t\t// update Data\n\t\t\tpoints[i].x = points[i].x * this.scaleX\n\t\t\tpoints[i].y = points[i].y * this.scaleY\n\t\t\t\n\t\t}\n\t}\n}\n\n/**\n * 绑定触发回调函数\n */\nXBoard.prototype.bindCallBack = function (writeFn,clearFn ,eraserFn = ()=>{}) {\n\tif(!writeFn||!clearFn){\n\t\tconsole.error('XB:bindCallBack ERR ---- wrong params')\n\t\treturn false\n\t}\n\t\n\tthis.writeFn = writeFn\n\tthis.clearFn = clearFn\n\tthis.eraserFn = eraserFn\n}\n\n/**\n * 通过外部传入的坐标数据进行绘制 data:[{cmd:'',data:{ size:'',point:'',color:''}}]\n */\n\nXBoard.prototype.plotByOutPoints = function (dataArray) {\n\t\n\tfor(let item of dataArray){\n\t\tif(item.cmd == 'draw'){\n\t\t\tlet _data = JSON.parse(item.data)\n\t\t\tthis.drawLine(_data.color,_data.size,_data.point)\n\t\t}\n\t\tif(item.cmd == 'clear'){\n\t\t\t// TODO: 下个版本加上\n\t\t}\n\t}\n}\n\n\nexport {XBoard}\n\n\nlet tempData = [\n\t{\n\t\tcmd: '', // clear/draw\n\t\tdata: {\n\t\t\tcolor: '',\n\t\t\tsize: '',\n\t\t\tpoint: [\n\t\t\t\t{\n\t\t\t\t\tx: 0,\n\t\t\t\t\ty: 0\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t}\n];\n\n\nlet dataTemplate = {\n\t'lessonToken': '课程的token',\n\t'cmd': 'draw', //\n\t'data': {\n\t\tcolor: '笔画颜色',// 16进制\n\t\tsize: '画笔大小', // 2 num\n\t\tpoint: [{x: '横坐标', y: '纵坐标'}]\n\t}\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/scripts/XBoard.js","/**\n * Created by Acery on 2017/8/21.\n */\n\n// 接入stream输出数组\n// 后期实现解码音频 输出数组 需要建立动画帧\n// 建立实例化计数\nfunction XAudioBox() {\n\tthis.audioCtx = null // for audioContext\n\tthis.streamSource = null // store mediaStream in audioCtx\n\tthis.analyser = null // analyser\n\tthis.isInit = false // judge init\n\tthis.dataArray = null // store ouputArray\n\tthis.audioObj = null // for Audio object\n\tthis.animationId =null // store annimatino id to clear\n}\n\nXAudioBox.boxCount = 0; // static\nXAudioBox.maxCount = 6; // static\n\nXAudioBox.prototype.initBox = function () {\n\tif (XAudioBox.boxCount >= XAudioBox.maxCount) {\n\t\tconsole.error('Reach max XAB count')\n\t}\n\tXAudioBox.boxCount++\n\tthis.isInit = true\n\tthis.audioCtx = new AudioContext()\n}\n\n// 加载音频流\nXAudioBox.prototype.loadStream = function (stream) {\n\tif (this.isInit) {\n\t\tthis.streamSource = this.audioCtx.createMediaStreamSource(stream);\n\t} else {\n\t\tconsole.error('audioCtx not init')\n\t}\n}\n\n// 创建取样数组\nXAudioBox.prototype.createDataArray = function (arrLength) {\n\tif (this.isInit) {\n\t\tif (!this.analyser) {\n\t\t\tthis.analyser = this.audioCtx.createAnalyser();\n\t\t\tthis.streamSource.connect(this.analyser)\n\t\t\tthis.analyser.fftSize = arrLength\n\t\t\tthis.dataArray = new Uint8Array(this.analyser.frequencyBinCount)\n\t\t}else {\n\t\t\tconsole.error(\"audioCtx has been defined, please create new audioCtx\")\n\t\t}\n\t} else {\n\t\tconsole.error('audioCtx not init')\n\t}\n}\n\n// 实时捕获并输出数据\nXAudioBox.prototype.outputData = function (fn) {\n\tif(!this.animationId){\n\t\tlet _ani = () => {\n\t\t\tthis.analyser.getByteFrequencyData(this.dataArray)\n\t\t\tfn();\n\t\t\trequestAnimationFrame(_ani)\n\t\t}\n\t\tthis.animationId=requestAnimationFrame(_ani)\n\t}else {\n\t\tconsole.error(\"animation has been defined, please stop it\")\n\t}\n\t\n}\n\n\n// 从文件加载\nXAudioBox.prototype.loadSrc = function (audioSrc) {\n\tif (this.isInit) {\n\t\tthis.audioObj = new Audio()\n\t\tthis.audioObj.src = audioSrc\n\t\tif (!this.streamSource) {\n\t\t\t// this.analyser = this.audioCtx.createAnalyser();\n\t\t\tthis.streamSource = this.audioCtx.createMediaElementSource(this.audioObj)\n\t\t\t// this.streamSource.connect(this.analyser)\n\t\t\t// this.analyser.connect(this.audioCtx.destination)\n\t\t} else {\n\t\t\tconsole.error(\"audioCtx has been defined, please create new audioCtx\")\n\t\t}\n\t} else {\n\t\tconsole.error('audioCtx not init')\n\t}\n}\n\n// 播放音频\nXAudioBox.prototype.playSrc = function (volume) {\n\tthis.analyser.connect(this.audioCtx.destination)\n\tthis.audioObj.volume = volume\n\tthis.audioObj.play()\n}\n\n// 关闭动画和audioCtx\nXAudioBox.prototype.stop = function () {\n\t// this.audioObj.pause()\n\tthis.audioCtx.close()\n\twindow.cancelAnimationFrame(this.animationId)\n}\n\n\nexport {XAudioBox}\n\n\n// WEBPACK FOOTER //\n// ./src/common/scripts/XaudioBox.js","/**\n * Created by Acery on 2017/8/21.\n */\n\n\n/*\n * 媒体流，提供接口\n * 1.创建视频流\n * 2.创建音频流*/\n// 创建流，删除流，\n\nfunction XMediaStream() {\n\tthis.mediaTracks = [] // store the tracks\n\tthis.mediaTracksRecycle = [] // to recovery the tracks you have removed\n\tthis.mediaStream = null // store mediaStream object\n\tthis.streamId = undefined // store the mediaStream.id\n}\n\nXMediaStream.mediaCount = 0\nXMediaStream.maxCount = 6 // 限制最大流\n\n/**\n *  创建流\n * @param name 类型\n * @param constraint 约束条件\n * @returns {Promise} 注：上层可用await 接收\n */\nXMediaStream.prototype.createMedia = function (name, constraint={}) {\n\tlet _constraint = {}\n\t\n\tif (XMediaStream.mediaCount >= XMediaStream.maxCount) {\n\t\tconsole.error(\"XMS: Reach max MediaCount\")\n\t\treturn;\n\t}\n\tswitch (name) {\n\t\tcase 'audio': {\n\t\t\t// _constraint['audio'] = true\n\t\t\t// _constraint['video'] = false\n\t\t\tfor (let key of Object.keys(constraint)) {\n\t\t\t\t_constraint[key] = constraint[key]\n\t\t\t}\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tnavigator.mediaDevices.getUserMedia(_constraint).then((stream) => {\n\t\t\t\t\tthis.mediaStream = stream\n\t\t\t\t\tthis.streamId = stream.id\n\t\t\t\t\tthis.mediaTracks = stream.getTracks()\n\t\t\t\t\tXMediaStream.mediaCount++\n\t\t\t\t\tresolve('done!')\n\t\t\t\t}).catch((err) => {\n\t\t\t\t\treject(err)\n\t\t\t\t})\n\t\t\t})\n\t\t\t\n\t\t}\n\t\t\tbreak;\n\t\tcase 'video': {\n\t\t\t// _constraint['audio'] = true\n\t\t\t// _constraint['video'] = {}\n\t\t\t// for (let key of Object.keys(constraint)) {\n\t\t\t// \t_constraint.video[key] = constraint[key]\n\t\t\t// }\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tnavigator.mediaDevices.getUserMedia(constraint).then((stream) => {\n\t\t\t\t\tthis.mediaStream = stream\n\t\t\t\t\tthis.streamId = stream.id\n\t\t\t\t\tthis.mediaTracks = stream.getTracks()\n\t\t\t\t\tXMediaStream.mediaCount++\n\t\t\t\t\tresolve('done!')\n\t\t\t\t}).catch((err) => {\n\t\t\t\t\treject(err)\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t\t\treturn Promise.rejected('unexpected params')\n\t\t\tbreak;\n\t}\n}\n\n/**\n * 清除所有轨道 注意：仍然未释放设备\n */\nXMediaStream.prototype.removeAllTracks = function () {\n\tfor (let i = 0; i < this.mediaTracks.length; ++i) {\n\t\tthis.mediaTracksRecycle.push(this.mediaTracks[i])\n\t\tthis.mediaStream.removeTrack(this.mediaTracks[i])\n\t}\n\tthis.mediaTracks.splice(0, this.mediaTracks.length)\n}\n\n/**\n * 清除指定轨道 注意：仍然未释放设备\n */\nXMediaStream.prototype.removeTracks = function () {\n\tconsole.error('未实现')\n}\n\n/**\n * 恢复轨道\n */\nXMediaStream.prototype.recoveryTracks = function () {\n\tconsole.error('未实现')\n}\n\n/**\n * 停止并释放设备\n */\nXMediaStream.prototype.stopAll = function () {\n\tfor (let item of this.mediaTracks) {\n\t\titem.stop()\n\t}\n}\n\n/**\n * 获取设备名称\n * @returns {audio,video}\n */\nXMediaStream.prototype.getLabel = function () {\n\tlet _labels = {}\n\tfor (let item of this.mediaTracks) {\n\t\t_labels[item.kind] = item.label\n\t}\n\treturn _labels\n}\n\n/**\n * 记录传入的音频流 适用于并非经过内部构造的\n * @param stream\n */\nXMediaStream.prototype.recordStream = function (stream) {\n\tthis.mediaStream = stream\n\tthis.streamId = stream.id\n\tthis.mediaTracks = stream.getTracks()\n\tXMediaStream.mediaCount++\n\t// console.log(this.mediaStream)\n\t// console.log(this.streamId)\n\t// console.log(this.mediaTracks)\n}\n\nexport {XMediaStream}\n\n\n// WEBPACK FOOTER //\n// ./src/common/scripts/XmediaStream.js"],"sourceRoot":""}